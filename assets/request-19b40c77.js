import{w as Fe,_ as oe,t as Qr,a as qt,b as Ie,o as Zr,c as bn,m as hr,g as fr,r as Ht,d as fn,e as x,f as ue,h as Q,i as se,j as pr,k as vr,l as gr,n as He,p as mr,q as yr,s as Ze,u as br,C as ei,L as ti,K as st,A as ct,v as ni,x as ri,y as ae,z as ii,B as jn,D as Vn,E as Sr,F as oi,G as ce,I as Hn,R as ai,H as si,J as li,M as At,N as Rt,O as Fn,P as Jt,Q as Qt}from"./index-b579d0aa.js";import{F as di,R as ci,t as gt,S as ui}from"./save-d13db6cd.js";function pe(n,t){return n[t]}function xr(n,t){var r=new Set;return n.forEach(function(e){t.has(e)||r.add(e)}),r}function hi(n){var t=n||{},r=t.disabled,e=t.disableCheckbox,a=t.checkable;return!!(r||e)||a===!1}function fi(n,t,r,e){for(var a=new Set(n),l=new Set,h=0;h<=r;h+=1){var o=t.get(h)||new Set;o.forEach(function(c){var p=c.key,v=c.node,g=c.children,y=g===void 0?[]:g;a.has(p)&&!e(v)&&y.filter(function(b){return!e(b.node)}).forEach(function(b){a.add(b.key)})})}for(var i=new Set,s=r;s>=0;s-=1){var d=t.get(s)||new Set;d.forEach(function(c){var p=c.parent,v=c.node;if(!(e(v)||!c.parent||i.has(c.parent.key))){if(e(c.parent.node)){i.add(p.key);return}var g=!0,y=!1;(p.children||[]).filter(function(b){return!e(b.node)}).forEach(function(b){var u=b.key,m=a.has(u);g&&!m&&(g=!1),!y&&(m||l.has(u))&&(y=!0)}),g&&a.add(p.key),y&&l.add(p.key),i.add(p.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(xr(l,a))}}function pi(n,t,r,e,a){for(var l=new Set(n),h=new Set(t),o=0;o<=e;o+=1){var i=r.get(o)||new Set;i.forEach(function(p){var v=p.key,g=p.node,y=p.children,b=y===void 0?[]:y;!l.has(v)&&!h.has(v)&&!a(g)&&b.filter(function(u){return!a(u.node)}).forEach(function(u){l.delete(u.key)})})}h=new Set;for(var s=new Set,d=e;d>=0;d-=1){var c=r.get(d)||new Set;c.forEach(function(p){var v=p.parent,g=p.node;if(!(a(g)||!p.parent||s.has(p.parent.key))){if(a(p.parent.node)){s.add(v.key);return}var y=!0,b=!1;(v.children||[]).filter(function(u){return!a(u.node)}).forEach(function(u){var m=u.key,w=l.has(m);y&&!w&&(y=!1),!b&&(w||h.has(m))&&(b=!0)}),y||l.delete(v.key),b&&h.add(v.key),s.add(v.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(xr(h,l))}}function Zt(n,t,r,e){var a=[],l;e?l=e:l=hi;var h=new Set(n.filter(function(d){var c=!!pe(r,d);return c||a.push(d),c})),o=new Map,i=0;Object.keys(r).forEach(function(d){var c=r[d],p=c.level,v=o.get(p);v||(v=new Set,o.set(p,v)),v.add(c),i=Math.max(i,p)}),Fe(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var s;return t===!0?s=fi(h,o,i,l):s=pi(h,t.halfCheckedKeys,o,i,l),s}var vi=["children"];function wr(n,t){return"".concat(n,"-").concat(t)}function gi(n){return n&&n.type&&n.type.isTreeNode}function St(n,t){return n??t}function Bt(n){var t=n||{},r=t.title,e=t._title,a=t.key,l=t.children,h=r||"title";return{title:h,_title:e||[h],key:a||"key",children:l||"children"}}function Er(n){function t(r){var e=Qr(r);return e.map(function(a){if(!gi(a))return Fe(!a,"Tree/TreeNode can only accept TreeNode as children."),null;var l=a.key,h=a.props,o=h.children,i=qt(h,vi),s=oe({key:l},i),d=t(o);return d.length&&(s.children=d),s}).filter(function(a){return a})}return t(n)}function en(n,t,r){var e=Bt(r),a=e._title,l=e.key,h=e.children,o=new Set(t===!0?[]:t),i=[];function s(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(p,v){for(var g=wr(c?c.pos:"0",v),y=St(p[l],g),b,u=0;u<a.length;u+=1){var m=a[u];if(p[m]!==void 0){b=p[m];break}}var w=oe(oe({},Zr(p,[].concat(Ie(a),[l,h]))),{},{title:b,key:y,parent:c,pos:g,children:null,data:p,isStart:[].concat(Ie(c?c.isStart:[]),[v===0]),isEnd:[].concat(Ie(c?c.isEnd:[]),[v===d.length-1])});return i.push(w),t===!0||o.has(y)?w.children=s(p[h]||[],w):w.children=[],w})}return s(n),i}function mi(n,t,r){var e={};bn(r)==="object"?e=r:e={externalGetKey:r},e=e||{};var a=e,l=a.childrenPropName,h=a.externalGetKey,o=a.fieldNames,i=Bt(o),s=i.key,d=i.children,c=l||d,p;h?typeof h=="string"?p=function(y){return y[h]}:typeof h=="function"&&(p=function(y){return h(y)}):p=function(y,b){return St(y[s],b)};function v(g,y,b,u){var m=g?g[c]:n,w=g?wr(b.pos,y):"0",N=g?[].concat(Ie(u),[g]):[];if(g){var z=p(g,w),I={node:g,index:y,pos:w,key:z,parentPos:b.node?b.pos:null,level:b.level+1,nodes:N};t(I)}m&&m.forEach(function(E,k){v(E,k,{node:g,pos:w,level:b?b.level+1:-1},N)})}v(null)}function Nr(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.initWrapper,e=t.processEntity,a=t.onProcessFinished,l=t.externalGetKey,h=t.childrenPropName,o=t.fieldNames,i=arguments.length>2?arguments[2]:void 0,s=l||i,d={},c={},p={posEntities:d,keyEntities:c};return r&&(p=r(p)||p),mi(n,function(v){var g=v.node,y=v.index,b=v.pos,u=v.key,m=v.parentPos,w=v.level,N=v.nodes,z={node:g,nodes:N,index:y,key:u,pos:b,level:w},I=St(u,b);d[b]=z,c[I]=z,z.parent=d[m],z.parent&&(z.parent.children=z.parent.children||[],z.parent.children.push(z)),e&&e(z,p)},{externalGetKey:s,childrenPropName:h,fieldNames:o}),a&&a(p),p}function mt(n,t){var r=t.expandedKeys,e=t.selectedKeys,a=t.loadedKeys,l=t.loadingKeys,h=t.checkedKeys,o=t.halfCheckedKeys,i=t.dragOverNodeKey,s=t.dropPosition,d=t.keyEntities,c=pe(d,n),p={eventKey:n,expanded:r.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:a.indexOf(n)!==-1,loading:l.indexOf(n)!==-1,checked:h.indexOf(n)!==-1,halfChecked:o.indexOf(n)!==-1,pos:String(c?c.pos:""),dragOver:i===n&&s===0,dragOverGapTop:i===n&&s===-1,dragOverGapBottom:i===n&&s===1};return p}function te(n){var t=n.data,r=n.expanded,e=n.selected,a=n.checked,l=n.loaded,h=n.loading,o=n.halfChecked,i=n.dragOver,s=n.dragOverGapTop,d=n.dragOverGapBottom,c=n.pos,p=n.active,v=n.eventKey,g=oe(oe({},t),{},{expanded:r,selected:e,checked:a,loaded:l,loading:h,halfChecked:o,dragOver:i,dragOverGapTop:s,dragOverGapBottom:d,pos:c,active:p,key:v});return"props"in g||Object.defineProperty(g,"props",{get:function(){return Fe(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}const yi=n=>{const{checkboxCls:t}=n,r=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Ht(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[r]:Object.assign(Object.assign({},Ht(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${r}`]:{marginInlineStart:0},[`&${r}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Ht(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},fn(n))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${r}:not(${r}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:n.colorPrimary}},[`${r}:not(${r}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${r}-checked:not(${r}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${r}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:n.colorTextDisabled}}}]};function Cr(n,t){const r=hr(t,{checkboxCls:`.${n}`,checkboxSize:t.controlInteractiveSize});return[yi(r)]}fr("Checkbox",(n,t)=>{let{prefixCls:r}=t;return[Cr(r,n)]});var Sn=x.createContext(null);function bi(n){var t=n.dropPosition,r=n.dropLevelOffset,e=n.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-r*e;break;case 1:a.bottom=0,a.left=-r*e;break;case 0:a.bottom=0,a.left=e;break}return x.createElement("div",{style:a})}function Kr(n){if(n==null)throw new TypeError("Cannot destructure "+n)}var Si=function(t){for(var r=t.prefixCls,e=t.level,a=t.isStart,l=t.isEnd,h="".concat(r,"-indent-unit"),o=[],i=0;i<e;i+=1){var s;o.push(x.createElement("span",{key:i,className:ue(h,(s={},Q(s,"".concat(h,"-start"),a[i]),Q(s,"".concat(h,"-end"),l[i]),s))}))}return x.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},o)};const xi=x.memo(Si);var wi=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Bn="open",Gn="close",Ei="---",Ni=function(n){pr(r,n);var t=vr(r);function r(){var e;gr(this,r);for(var a=arguments.length,l=new Array(a),h=0;h<a;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(o){var i=e.props.context.onNodeClick;i(o,te(e.props)),e.isSelectable()?e.onSelect(o):e.onCheck(o)},e.onSelectorDoubleClick=function(o){var i=e.props.context.onNodeDoubleClick;i(o,te(e.props))},e.onSelect=function(o){if(!e.isDisabled()){var i=e.props.context.onNodeSelect;i(o,te(e.props))}},e.onCheck=function(o){if(!e.isDisabled()){var i=e.props,s=i.disableCheckbox,d=i.checked,c=e.props.context.onNodeCheck;if(!(!e.isCheckable()||s)){var p=!d;c(o,te(e.props),p)}}},e.onMouseEnter=function(o){var i=e.props.context.onNodeMouseEnter;i(o,te(e.props))},e.onMouseLeave=function(o){var i=e.props.context.onNodeMouseLeave;i(o,te(e.props))},e.onContextMenu=function(o){var i=e.props.context.onNodeContextMenu;i(o,te(e.props))},e.onDragStart=function(o){var i=e.props.context.onNodeDragStart;o.stopPropagation(),e.setState({dragNodeHighlight:!0}),i(o,He(e));try{o.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(o){var i=e.props.context.onNodeDragEnter;o.preventDefault(),o.stopPropagation(),i(o,He(e))},e.onDragOver=function(o){var i=e.props.context.onNodeDragOver;o.preventDefault(),o.stopPropagation(),i(o,He(e))},e.onDragLeave=function(o){var i=e.props.context.onNodeDragLeave;o.stopPropagation(),i(o,He(e))},e.onDragEnd=function(o){var i=e.props.context.onNodeDragEnd;o.stopPropagation(),e.setState({dragNodeHighlight:!1}),i(o,He(e))},e.onDrop=function(o){var i=e.props.context.onNodeDrop;o.preventDefault(),o.stopPropagation(),e.setState({dragNodeHighlight:!1}),i(o,He(e))},e.onExpand=function(o){var i=e.props,s=i.loading,d=i.context.onNodeExpand;s||d(o,te(e.props))},e.setSelectHandle=function(o){e.selectHandle=o},e.getNodeState=function(){var o=e.props.expanded;return e.isLeaf()?null:o?Bn:Gn},e.hasChildren=function(){var o=e.props.eventKey,i=e.props.context.keyEntities,s=pe(i,o)||{},d=s.children;return!!(d||[]).length},e.isLeaf=function(){var o=e.props,i=o.isLeaf,s=o.loaded,d=e.props.context.loadData,c=e.hasChildren();return i===!1?!1:i||!d&&!c||d&&s&&!c},e.isDisabled=function(){var o=e.props.disabled,i=e.props.context.disabled;return!!(i||o)},e.isCheckable=function(){var o=e.props.checkable,i=e.props.context.checkable;return!i||o===!1?!1:i},e.syncLoadData=function(o){var i=o.expanded,s=o.loading,d=o.loaded,c=e.props.context,p=c.loadData,v=c.onNodeLoad;s||p&&i&&!e.isLeaf()&&!e.hasChildren()&&!d&&v(te(e.props))},e.isDraggable=function(){var o=e.props,i=o.data,s=o.context.draggable;return!!(s&&(!s.nodeDraggable||s.nodeDraggable(i)))},e.renderDragHandler=function(){var o=e.props.context,i=o.draggable,s=o.prefixCls;return i!=null&&i.icon?x.createElement("span",{className:"".concat(s,"-draggable-icon")},i.icon):null},e.renderSwitcherIconDom=function(o){var i=e.props.switcherIcon,s=e.props.context.switcherIcon,d=i||s;return typeof d=="function"?d(oe(oe({},e.props),{},{isLeaf:o})):d},e.renderSwitcher=function(){var o=e.props.expanded,i=e.props.context.prefixCls;if(e.isLeaf()){var s=e.renderSwitcherIconDom(!0);return s!==!1?x.createElement("span",{className:ue("".concat(i,"-switcher"),"".concat(i,"-switcher-noop"))},s):null}var d=ue("".concat(i,"-switcher"),"".concat(i,"-switcher_").concat(o?Bn:Gn)),c=e.renderSwitcherIconDom(!1);return c!==!1?x.createElement("span",{onClick:e.onExpand,className:d},c):null},e.renderCheckbox=function(){var o=e.props,i=o.checked,s=o.halfChecked,d=o.disableCheckbox,c=e.props.context.prefixCls,p=e.isDisabled(),v=e.isCheckable();if(!v)return null;var g=typeof v!="boolean"?v:null;return x.createElement("span",{className:ue("".concat(c,"-checkbox"),i&&"".concat(c,"-checkbox-checked"),!i&&s&&"".concat(c,"-checkbox-indeterminate"),(p||d)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck},g)},e.renderIcon=function(){var o=e.props.loading,i=e.props.context.prefixCls;return x.createElement("span",{className:ue("".concat(i,"-iconEle"),"".concat(i,"-icon__").concat(e.getNodeState()||"docu"),o&&"".concat(i,"-icon_loading"))})},e.renderSelector=function(){var o=e.state.dragNodeHighlight,i=e.props,s=i.title,d=s===void 0?Ei:s,c=i.selected,p=i.icon,v=i.loading,g=i.data,y=e.props.context,b=y.prefixCls,u=y.showIcon,m=y.icon,w=y.loadData,N=y.titleRender,z=e.isDisabled(),I="".concat(b,"-node-content-wrapper"),E;if(u){var k=p||m;E=k?x.createElement("span",{className:ue("".concat(b,"-iconEle"),"".concat(b,"-icon__customize"))},typeof k=="function"?k(e.props):k):e.renderIcon()}else w&&v&&(E=e.renderIcon());var K;typeof d=="function"?K=d(g):N?K=N(g):K=d;var C=x.createElement("span",{className:"".concat(b,"-title")},K);return x.createElement("span",{ref:e.setSelectHandle,title:typeof d=="string"?d:"",className:ue("".concat(I),"".concat(I,"-").concat(e.getNodeState()||"normal"),!z&&(c||o)&&"".concat(b,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},E,C,e.renderDropIndicator())},e.renderDropIndicator=function(){var o=e.props,i=o.disabled,s=o.eventKey,d=e.props.context,c=d.draggable,p=d.dropLevelOffset,v=d.dropPosition,g=d.prefixCls,y=d.indent,b=d.dropIndicatorRender,u=d.dragOverNodeKey,m=d.direction,w=!!c,N=!i&&w&&u===s,z=y??e.cacheIndent;return e.cacheIndent=y,N?b({dropPosition:v,dropLevelOffset:p,indent:z,prefixCls:g,direction:m}):null},e}return mr(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var a=this.props.selectable,l=this.props.context.selectable;return typeof a=="boolean"?a:l}},{key:"render",value:function(){var a,l=this.props,h=l.eventKey,o=l.className,i=l.style,s=l.dragOver,d=l.dragOverGapTop,c=l.dragOverGapBottom,p=l.isLeaf,v=l.isStart,g=l.isEnd,y=l.expanded,b=l.selected,u=l.checked,m=l.halfChecked,w=l.loading,N=l.domRef,z=l.active;l.data;var I=l.onMouseMove,E=l.selectable,k=qt(l,wi),K=this.props.context,C=K.prefixCls,$=K.filterTreeNode,D=K.keyEntities,P=K.dropContainerKey,L=K.dropTargetKey,j=K.draggingNodeKey,B=this.isDisabled(),U=yr(k,{aria:!0,data:!0}),V=pe(D,h)||{},W=V.level,Z=g[g.length-1],Y=this.isDraggable(),ie=!B&&Y,ve=j===h,be=E!==void 0?{"aria-selected":!!E}:void 0;return x.createElement("div",se({ref:N,className:ue(o,"".concat(C,"-treenode"),(a={},Q(a,"".concat(C,"-treenode-disabled"),B),Q(a,"".concat(C,"-treenode-switcher-").concat(y?"open":"close"),!p),Q(a,"".concat(C,"-treenode-checkbox-checked"),u),Q(a,"".concat(C,"-treenode-checkbox-indeterminate"),m),Q(a,"".concat(C,"-treenode-selected"),b),Q(a,"".concat(C,"-treenode-loading"),w),Q(a,"".concat(C,"-treenode-active"),z),Q(a,"".concat(C,"-treenode-leaf-last"),Z),Q(a,"".concat(C,"-treenode-draggable"),Y),Q(a,"dragging",ve),Q(a,"drop-target",L===h),Q(a,"drop-container",P===h),Q(a,"drag-over",!B&&s),Q(a,"drag-over-gap-top",!B&&d),Q(a,"drag-over-gap-bottom",!B&&c),Q(a,"filter-node",$&&$(te(this.props))),a)),style:i,draggable:ie,"aria-grabbed":ve,onDragStart:ie?this.onDragStart:void 0,onDragEnter:Y?this.onDragEnter:void 0,onDragOver:Y?this.onDragOver:void 0,onDragLeave:Y?this.onDragLeave:void 0,onDrop:Y?this.onDrop:void 0,onDragEnd:Y?this.onDragEnd:void 0,onMouseMove:I},be,U),x.createElement(xi,{prefixCls:C,level:W,isStart:v,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(x.Component),dt=function(t){return x.createElement(Sn.Consumer,null,function(r){return x.createElement(Ni,se({},t,{context:r}))})};dt.displayName="TreeNode";dt.isTreeNode=1;function Ci(n,t){var r=x.useState(!1),e=Ze(r,2),a=e[0],l=e[1];x.useLayoutEffect(function(){if(a)return n(),function(){t()}},[a]),x.useLayoutEffect(function(){return l(!0),function(){l(!1)}},[])}var Ki=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],_r=function(t,r){var e=t.className,a=t.style,l=t.motion,h=t.motionNodes,o=t.motionType,i=t.onMotionStart,s=t.onMotionEnd,d=t.active,c=t.treeNodeRequiredProps,p=qt(t,Ki),v=x.useState(!0),g=Ze(v,2),y=g[0],b=g[1],u=x.useContext(Sn),m=u.prefixCls,w=h&&o!=="hide";br(function(){h&&w!==y&&b(w)},[h]);var N=function(){h&&i()},z=x.useRef(!1),I=function(){h&&!z.current&&(z.current=!0,s())};Ci(N,I);var E=function(K){w===K&&I()};return h?x.createElement(ei,se({ref:r,visible:y},l,{motionAppear:o==="show",onVisibleChanged:E}),function(k,K){var C=k.className,$=k.style;return x.createElement("div",{ref:K,className:ue("".concat(m,"-treenode-motion"),C),style:$},h.map(function(D){var P=se({},(Kr(D.data),D.data)),L=D.title,j=D.key,B=D.isStart,U=D.isEnd;delete P.children;var V=mt(j,c);return x.createElement(dt,se({},P,V,{title:L,active:d,data:D.data,key:j,isStart:B,isEnd:U}))}))}):x.createElement(dt,se({domRef:r,className:e,style:a},p,{active:d}))};_r.displayName="MotionTreeNode";var _i=x.forwardRef(_r);function zi(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,e=t.length;if(Math.abs(r-e)!==1)return{add:!1,key:null};function a(l,h){var o=new Map;l.forEach(function(s){o.set(s,!0)});var i=h.filter(function(s){return!o.has(s)});return i.length===1?i[0]:null}return r<e?{add:!0,key:a(n,t)}:{add:!1,key:a(t,n)}}function qn(n,t,r){var e=n.findIndex(function(o){return o.key===r}),a=n[e+1],l=t.findIndex(function(o){return o.key===r});if(a){var h=t.findIndex(function(o){return o.key===a.key});return t.slice(l+1,h)}return t.slice(l+1)}var ki=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Un={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ii=function(){},et="RC_TREE_MOTION_".concat(Math.random()),pn={key:et},zr={key:et,level:0,index:0,pos:"0",node:pn,nodes:[pn]},Wn={parent:null,children:[],pos:zr.pos,data:pn,title:null,key:et,isStart:[],isEnd:[]};function Yn(n,t,r,e){return t===!1||!r?n:n.slice(0,Math.ceil(r/e)+1)}function Xn(n){var t=n.key,r=n.pos;return St(t,r)}function Di(n){for(var t=String(n.data.key),r=n;r.parent;)r=r.parent,t="".concat(r.data.key," > ").concat(t);return t}var kr=x.forwardRef(function(n,t){var r=n.prefixCls,e=n.data;n.selectable,n.checkable;var a=n.expandedKeys,l=n.selectedKeys,h=n.checkedKeys,o=n.loadedKeys,i=n.loadingKeys,s=n.halfCheckedKeys,d=n.keyEntities,c=n.disabled,p=n.dragging,v=n.dragOverNodeKey,g=n.dropPosition,y=n.motion,b=n.height,u=n.itemHeight,m=n.virtual,w=n.focusable,N=n.activeItem,z=n.focused,I=n.tabIndex,E=n.onKeyDown,k=n.onFocus,K=n.onBlur,C=n.onActiveChange,$=n.onListChangeStart,D=n.onListChangeEnd,P=qt(n,ki),L=x.useRef(null),j=x.useRef(null);x.useImperativeHandle(t,function(){return{scrollTo:function(ge){L.current.scrollTo(ge)},getIndentWidth:function(){return j.current.offsetWidth}}});var B=x.useState(a),U=Ze(B,2),V=U[0],W=U[1],Z=x.useState(e),Y=Ze(Z,2),ie=Y[0],ve=Y[1],be=x.useState(e),M=Ze(be,2),T=M[0],H=M[1],R=x.useState([]),Ge=Ze(R,2),tt=Ge[0],Ke=Ge[1],xt=x.useState(null),qe=Ze(xt,2),wt=qe[0],nt=qe[1],Et=x.useRef(e);Et.current=e;function Se(){var X=Et.current;ve(X),H(X),Ke([]),nt(null),D()}br(function(){W(a);var X=zi(V,a);if(X.key!==null)if(X.add){var ge=ie.findIndex(function(Ue){var We=Ue.key;return We===X.key}),fe=Yn(qn(ie,e,X.key),m,b,u),_e=ie.slice();_e.splice(ge+1,0,Wn),H(_e),Ke(fe),nt("show")}else{var xe=e.findIndex(function(Ue){var We=Ue.key;return We===X.key}),we=Yn(qn(e,ie,X.key),m,b,u),ze=e.slice();ze.splice(xe+1,0,Wn),H(ze),Ke(we),nt("hide")}else ie!==e&&(ve(e),H(e))},[a,e]),x.useEffect(function(){p||Se()},[p]);var Nt=y?T:e,Ct={expandedKeys:a,selectedKeys:l,loadedKeys:o,loadingKeys:i,checkedKeys:h,halfCheckedKeys:s,dragOverNodeKey:v,dropPosition:g,keyEntities:d};return x.createElement(x.Fragment,null,z&&N&&x.createElement("span",{style:Un,"aria-live":"assertive"},Di(N)),x.createElement("div",null,x.createElement("input",{style:Un,disabled:w===!1||c,tabIndex:w!==!1?I:null,onKeyDown:E,onFocus:k,onBlur:K,value:"",onChange:Ii,"aria-label":"for screen reader"})),x.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},x.createElement("div",{className:"".concat(r,"-indent")},x.createElement("div",{ref:j,className:"".concat(r,"-indent-unit")}))),x.createElement(ti,se({},P,{data:Nt,itemKey:Xn,height:b,fullHeight:!1,virtual:m,itemHeight:u,prefixCls:"".concat(r,"-list"),ref:L,onVisibleChange:function(ge,fe){var _e=new Set(ge),xe=fe.filter(function(we){return!_e.has(we)});xe.some(function(we){return Xn(we)===et})&&Se()}}),function(X){var ge=X.pos,fe=se({},(Kr(X.data),X.data)),_e=X.title,xe=X.key,we=X.isStart,ze=X.isEnd,Ue=St(xe,ge);delete fe.key,delete fe.children;var We=mt(Ue,Ct);return x.createElement(_i,se({},fe,We,{title:_e,active:!!N&&xe===N.key,pos:ge,data:X.data,isStart:we,isEnd:ze,motion:y,motionNodes:xe===et?tt:null,motionType:wt,onMotionStart:$,onMotionEnd:Se,treeNodeRequiredProps:Ct,onMouseMove:function(){C(null)}}))}))});kr.displayName="NodeList";function Te(n,t){if(!n)return[];var r=n.slice(),e=r.indexOf(t);return e>=0&&r.splice(e,1),r}function Ve(n,t){var r=(n||[]).slice();return r.indexOf(t)===-1&&r.push(t),r}function xn(n){return n.split("-")}function Oi(n,t){var r=[],e=pe(t,n);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(h){var o=h.key,i=h.children;r.push(o),a(i)})}return a(e.children),r}function $i(n){if(n.parent){var t=xn(n.pos);return Number(t[t.length-1])===n.parent.children.length-1}return!1}function Pi(n){var t=xn(n.pos);return Number(t[t.length-1])===0}function Jn(n,t,r,e,a,l,h,o,i,s){var d,c=n.clientX,p=n.clientY,v=n.target.getBoundingClientRect(),g=v.top,y=v.height,b=(s==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-c),u=(b-12)/e,m=pe(o,r.props.eventKey);if(p<g+y/2){var w=h.findIndex(function(j){return j.key===m.key}),N=w<=0?0:w-1,z=h[N].key;m=pe(o,z)}var I=m.key,E=m,k=m.key,K=0,C=0;if(!i.includes(I))for(var $=0;$<u&&$i(m);$+=1)m=m.parent,C+=1;var D=t.props.data,P=m.node,L=!0;return Pi(m)&&m.level===0&&p<g+y/2&&l({dragNode:D,dropNode:P,dropPosition:-1})&&m.key===r.props.eventKey?K=-1:(E.children||[]).length&&i.includes(k)?l({dragNode:D,dropNode:P,dropPosition:0})?K=0:L=!1:C===0?u>-1.5?l({dragNode:D,dropNode:P,dropPosition:1})?K=1:L=!1:l({dragNode:D,dropNode:P,dropPosition:0})?K=0:l({dragNode:D,dropNode:P,dropPosition:1})?K=1:L=!1:l({dragNode:D,dropNode:P,dropPosition:1})?K=1:L=!1,{dropPosition:K,dropLevelOffset:C,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:k,dropContainerKey:K===0?null:((d=m.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:L}}function Qn(n,t){if(n){var r=t.multiple;return r?n.slice():n.length?[n[0]]:n}}function tn(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else if(bn(n)==="object")t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return Fe(!1,"`checkedKeys` is not an array or an object"),null;return t}function vn(n,t){var r=new Set;function e(a){if(!r.has(a)){var l=pe(t,a);if(l){r.add(a);var h=l.parent,o=l.node;o.disabled||h&&e(h.key)}}}return(n||[]).forEach(function(a){e(a)}),Ie(r)}var Ti=10,wn=function(n){pr(r,n);var t=vr(r);function r(){var e;gr(this,r);for(var a=arguments.length,l=new Array(a),h=0;h<a;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Bt()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=x.createRef(),e.onNodeDragStart=function(o,i){var s=e.state,d=s.expandedKeys,c=s.keyEntities,p=e.props.onDragStart,v=i.props.eventKey;e.dragNode=i,e.dragStartMousePosition={x:o.clientX,y:o.clientY};var g=Te(d,v);e.setState({draggingNodeKey:v,dragChildrenKeys:Oi(v,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),p==null||p({event:o,node:te(i.props)})},e.onNodeDragEnter=function(o,i){var s=e.state,d=s.expandedKeys,c=s.keyEntities,p=s.dragChildrenKeys,v=s.flattenNodes,g=s.indent,y=e.props,b=y.onDragEnter,u=y.onExpand,m=y.allowDrop,w=y.direction,N=i.props,z=N.pos,I=N.eventKey,E=He(e),k=E.dragNode;if(e.currentMouseOverDroppableNodeKey!==I&&(e.currentMouseOverDroppableNodeKey=I),!k){e.resetDragState();return}var K=Jn(o,k,i,g,e.dragStartMousePosition,m,v,c,d,w),C=K.dropPosition,$=K.dropLevelOffset,D=K.dropTargetKey,P=K.dropContainerKey,L=K.dropTargetPos,j=K.dropAllowed,B=K.dragOverNodeKey;if(p.indexOf(D)!==-1||!j){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(U){clearTimeout(e.delayedDragEnterLogic[U])}),k.props.eventKey!==i.props.eventKey&&(o.persist(),e.delayedDragEnterLogic[z]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var U=Ie(d),V=pe(c,i.props.eventKey);V&&(V.children||[]).length&&(U=Ve(d,i.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(U),u==null||u(U,{node:te(i.props),expanded:!0,nativeEvent:o.nativeEvent})}},800)),k.props.eventKey===D&&$===0){e.resetDragState();return}e.setState({dragOverNodeKey:B,dropPosition:C,dropLevelOffset:$,dropTargetKey:D,dropContainerKey:P,dropTargetPos:L,dropAllowed:j}),b==null||b({event:o,node:te(i.props),expandedKeys:d})},e.onNodeDragOver=function(o,i){var s=e.state,d=s.dragChildrenKeys,c=s.flattenNodes,p=s.keyEntities,v=s.expandedKeys,g=s.indent,y=e.props,b=y.onDragOver,u=y.allowDrop,m=y.direction,w=He(e),N=w.dragNode;if(N){var z=Jn(o,N,i,g,e.dragStartMousePosition,u,c,p,v,m),I=z.dropPosition,E=z.dropLevelOffset,k=z.dropTargetKey,K=z.dropContainerKey,C=z.dropAllowed,$=z.dropTargetPos,D=z.dragOverNodeKey;d.indexOf(k)!==-1||!C||(N.props.eventKey===k&&E===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():I===e.state.dropPosition&&E===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&K===e.state.dropContainerKey&&$===e.state.dropTargetPos&&C===e.state.dropAllowed&&D===e.state.dragOverNodeKey||e.setState({dropPosition:I,dropLevelOffset:E,dropTargetKey:k,dropContainerKey:K,dropTargetPos:$,dropAllowed:C,dragOverNodeKey:D}),b==null||b({event:o,node:te(i.props)}))}},e.onNodeDragLeave=function(o,i){e.currentMouseOverDroppableNodeKey===i.props.eventKey&&!o.currentTarget.contains(o.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var s=e.props.onDragLeave;s==null||s({event:o,node:te(i.props)})},e.onWindowDragEnd=function(o){e.onNodeDragEnd(o,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(o,i){var s=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),s==null||s({event:o,node:te(i.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(o,i){var s,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,p=c.dragChildrenKeys,v=c.dropPosition,g=c.dropTargetKey,y=c.dropTargetPos,b=c.dropAllowed;if(b){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var m=oe(oe({},mt(g,e.getTreeNodeRequiredProps())),{},{active:((s=e.getActiveItem())===null||s===void 0?void 0:s.key)===g,data:pe(e.state.keyEntities,g).node}),w=p.indexOf(g)!==-1;Fe(!w,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var N=xn(y),z={event:o,node:te(m),dragNode:e.dragNode?te(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(p),dropToGap:v!==0,dropPosition:v+Number(N[N.length-1])};d||u==null||u(z),e.dragNode=null}}},e.cleanDragState=function(){var o=e.state.draggingNodeKey;o!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(o,i){var s=e.state,d=s.expandedKeys,c=s.flattenNodes,p=i.expanded,v=i.key,g=i.isLeaf;if(!(g||o.shiftKey||o.metaKey||o.ctrlKey)){var y=c.filter(function(u){return u.key===v})[0],b=te(oe(oe({},mt(v,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(p?Te(d,v):Ve(d,v)),e.onNodeExpand(o,b)}},e.onNodeClick=function(o,i){var s=e.props,d=s.onClick,c=s.expandAction;c==="click"&&e.triggerExpandActionExpand(o,i),d==null||d(o,i)},e.onNodeDoubleClick=function(o,i){var s=e.props,d=s.onDoubleClick,c=s.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(o,i),d==null||d(o,i)},e.onNodeSelect=function(o,i){var s=e.state.selectedKeys,d=e.state,c=d.keyEntities,p=d.fieldNames,v=e.props,g=v.onSelect,y=v.multiple,b=i.selected,u=i[p.key],m=!b;m?y?s=Ve(s,u):s=[u]:s=Te(s,u);var w=s.map(function(N){var z=pe(c,N);return z?z.node:null}).filter(function(N){return N});e.setUncontrolledState({selectedKeys:s}),g==null||g(s,{event:"select",selected:m,node:i,selectedNodes:w,nativeEvent:o.nativeEvent})},e.onNodeCheck=function(o,i,s){var d=e.state,c=d.keyEntities,p=d.checkedKeys,v=d.halfCheckedKeys,g=e.props,y=g.checkStrictly,b=g.onCheck,u=i.key,m,w={event:"check",node:i,checked:s,nativeEvent:o.nativeEvent};if(y){var N=s?Ve(p,u):Te(p,u),z=Te(v,u);m={checked:N,halfChecked:z},w.checkedNodes=N.map(function($){return pe(c,$)}).filter(function($){return $}).map(function($){return $.node}),e.setUncontrolledState({checkedKeys:N})}else{var I=Zt([].concat(Ie(p),[u]),!0,c),E=I.checkedKeys,k=I.halfCheckedKeys;if(!s){var K=new Set(E);K.delete(u);var C=Zt(Array.from(K),{checked:!1,halfCheckedKeys:k},c);E=C.checkedKeys,k=C.halfCheckedKeys}m=E,w.checkedNodes=[],w.checkedNodesPositions=[],w.halfCheckedKeys=k,E.forEach(function($){var D=pe(c,$);if(D){var P=D.node,L=D.pos;w.checkedNodes.push(P),w.checkedNodesPositions.push({node:P,pos:L})}}),e.setUncontrolledState({checkedKeys:E},!1,{halfCheckedKeys:k})}b==null||b(m,w)},e.onNodeLoad=function(o){var i=o.key,s=new Promise(function(d,c){e.setState(function(p){var v=p.loadedKeys,g=v===void 0?[]:v,y=p.loadingKeys,b=y===void 0?[]:y,u=e.props,m=u.loadData,w=u.onLoad;if(!m||g.indexOf(i)!==-1||b.indexOf(i)!==-1)return null;var N=m(o);return N.then(function(){var z=e.state.loadedKeys,I=Ve(z,i);w==null||w(I,{event:"load",node:o}),e.setUncontrolledState({loadedKeys:I}),e.setState(function(E){return{loadingKeys:Te(E.loadingKeys,i)}}),d()}).catch(function(z){if(e.setState(function(E){return{loadingKeys:Te(E.loadingKeys,i)}}),e.loadingRetryTimes[i]=(e.loadingRetryTimes[i]||0)+1,e.loadingRetryTimes[i]>=Ti){var I=e.state.loadedKeys;Fe(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Ve(I,i)}),d()}c(z)}),{loadingKeys:Ve(b,i)}})});return s.catch(function(){}),s},e.onNodeMouseEnter=function(o,i){var s=e.props.onMouseEnter;s==null||s({event:o,node:i})},e.onNodeMouseLeave=function(o,i){var s=e.props.onMouseLeave;s==null||s({event:o,node:i})},e.onNodeContextMenu=function(o,i){var s=e.props.onRightClick;s&&(o.preventDefault(),s({event:o,node:i}))},e.onFocus=function(){var o=e.props.onFocus;e.setState({focused:!0});for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];o==null||o.apply(void 0,s)},e.onBlur=function(){var o=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];o==null||o.apply(void 0,s)},e.getTreeNodeRequiredProps=function(){var o=e.state,i=o.expandedKeys,s=o.selectedKeys,d=o.loadedKeys,c=o.loadingKeys,p=o.checkedKeys,v=o.halfCheckedKeys,g=o.dragOverNodeKey,y=o.dropPosition,b=o.keyEntities;return{expandedKeys:i||[],selectedKeys:s||[],loadedKeys:d||[],loadingKeys:c||[],checkedKeys:p||[],halfCheckedKeys:v||[],dragOverNodeKey:g,dropPosition:y,keyEntities:b}},e.setExpandedKeys=function(o){var i=e.state,s=i.treeData,d=i.fieldNames,c=en(s,o,d);e.setUncontrolledState({expandedKeys:o,flattenNodes:c},!0)},e.onNodeExpand=function(o,i){var s=e.state.expandedKeys,d=e.state,c=d.listChanging,p=d.fieldNames,v=e.props,g=v.onExpand,y=v.loadData,b=i.expanded,u=i[p.key];if(!c){var m=s.indexOf(u),w=!b;if(Fe(b&&m!==-1||!b&&m===-1,"Expand state not sync with index check"),w?s=Ve(s,u):s=Te(s,u),e.setExpandedKeys(s),g==null||g(s,{node:i,expanded:w,nativeEvent:o.nativeEvent}),w&&y){var N=e.onNodeLoad(i);N&&N.then(function(){var z=en(e.state.treeData,s,p);e.setUncontrolledState({flattenNodes:z})}).catch(function(){var z=e.state.expandedKeys,I=Te(z,u);e.setExpandedKeys(I)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(o){var i=e.state.activeKey,s=e.props.onActiveChange;i!==o&&(e.setState({activeKey:o}),o!==null&&e.scrollTo({key:o}),s==null||s(o))},e.getActiveItem=function(){var o=e.state,i=o.activeKey,s=o.flattenNodes;return i===null?null:s.find(function(d){var c=d.key;return c===i})||null},e.offsetActiveKey=function(o){var i=e.state,s=i.flattenNodes,d=i.activeKey,c=s.findIndex(function(g){var y=g.key;return y===d});c===-1&&o<0&&(c=s.length),c=(c+o+s.length)%s.length;var p=s[c];if(p){var v=p.key;e.onActiveChange(v)}else e.onActiveChange(null)},e.onKeyDown=function(o){var i=e.state,s=i.activeKey,d=i.expandedKeys,c=i.checkedKeys,p=i.fieldNames,v=e.props,g=v.onKeyDown,y=v.checkable,b=v.selectable;switch(o.which){case st.UP:{e.offsetActiveKey(-1),o.preventDefault();break}case st.DOWN:{e.offsetActiveKey(1),o.preventDefault();break}}var u=e.getActiveItem();if(u&&u.data){var m=e.getTreeNodeRequiredProps(),w=u.data.isLeaf===!1||!!(u.data[p.children]||[]).length,N=te(oe(oe({},mt(s,m)),{},{data:u.data,active:!0}));switch(o.which){case st.LEFT:{w&&d.includes(s)?e.onNodeExpand({},N):u.parent&&e.onActiveChange(u.parent.key),o.preventDefault();break}case st.RIGHT:{w&&!d.includes(s)?e.onNodeExpand({},N):u.children&&u.children.length&&e.onActiveChange(u.children[0].key),o.preventDefault();break}case st.ENTER:case st.SPACE:{y&&!N.disabled&&N.checkable!==!1&&!N.disableCheckbox?e.onNodeCheck({},N,!c.includes(s)):!y&&b&&!N.disabled&&N.selectable!==!1&&e.onNodeSelect({},N);break}}}g==null||g(o)},e.setUncontrolledState=function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,c=!0,p={};Object.keys(o).forEach(function(v){if(v in e.props){c=!1;return}d=!0,p[v]=o[v]}),d&&(!i||c)&&e.setState(oe(oe({},p),s))}},e.scrollTo=function(o){e.listRef.current.scrollTo(o)},e}return mr(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var a=this.props.activeKey;a!==void 0&&a!==this.state.activeKey&&(this.setState({activeKey:a}),a!==null&&this.scrollTo({key:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var a,l=this.state,h=l.focused,o=l.flattenNodes,i=l.keyEntities,s=l.draggingNodeKey,d=l.activeKey,c=l.dropLevelOffset,p=l.dropContainerKey,v=l.dropTargetKey,g=l.dropPosition,y=l.dragOverNodeKey,b=l.indent,u=this.props,m=u.prefixCls,w=u.className,N=u.style,z=u.showLine,I=u.focusable,E=u.tabIndex,k=E===void 0?0:E,K=u.selectable,C=u.showIcon,$=u.icon,D=u.switcherIcon,P=u.draggable,L=u.checkable,j=u.checkStrictly,B=u.disabled,U=u.motion,V=u.loadData,W=u.filterTreeNode,Z=u.height,Y=u.itemHeight,ie=u.virtual,ve=u.titleRender,be=u.dropIndicatorRender,M=u.onContextMenu,T=u.onScroll,H=u.direction,R=u.rootClassName,Ge=u.rootStyle,tt=yr(this.props,{aria:!0,data:!0}),Ke;return P&&(bn(P)==="object"?Ke=P:typeof P=="function"?Ke={nodeDraggable:P}:Ke={}),x.createElement(Sn.Provider,{value:{prefixCls:m,selectable:K,showIcon:C,icon:$,switcherIcon:D,draggable:Ke,draggingNodeKey:s,checkable:L,checkStrictly:j,disabled:B,keyEntities:i,dropLevelOffset:c,dropContainerKey:p,dropTargetKey:v,dropPosition:g,dragOverNodeKey:y,indent:b,direction:H,dropIndicatorRender:be,loadData:V,filterTreeNode:W,titleRender:ve,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},x.createElement("div",{role:"tree",className:ue(m,w,R,(a={},Q(a,"".concat(m,"-show-line"),z),Q(a,"".concat(m,"-focused"),h),Q(a,"".concat(m,"-active-focused"),d!==null),a)),style:Ge},x.createElement(kr,se({ref:this.listRef,prefixCls:m,style:N,data:o,disabled:B,selectable:K,checkable:!!L,motion:U,dragging:s!==null,height:Z,itemHeight:Y,virtual:ie,focusable:I,focused:h,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:M,onScroll:T},this.getTreeNodeRequiredProps(),tt))))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var h=l.prevProps,o={prevProps:a};function i(I){return!h&&I in a||h&&h[I]!==a[I]}var s,d=l.fieldNames;if(i("fieldNames")&&(d=Bt(a.fieldNames),o.fieldNames=d),i("treeData")?s=a.treeData:i("children")&&(Fe(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),s=Er(a.children)),s){o.treeData=s;var c=Nr(s,{fieldNames:d});o.keyEntities=oe(Q({},et,zr),c.keyEntities)}var p=o.keyEntities||l.keyEntities;if(i("expandedKeys")||h&&i("autoExpandParent"))o.expandedKeys=a.autoExpandParent||!h&&a.defaultExpandParent?vn(a.expandedKeys,p):a.expandedKeys;else if(!h&&a.defaultExpandAll){var v=oe({},p);delete v[et],o.expandedKeys=Object.keys(v).map(function(I){return v[I].key})}else!h&&a.defaultExpandedKeys&&(o.expandedKeys=a.autoExpandParent||a.defaultExpandParent?vn(a.defaultExpandedKeys,p):a.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,s||o.expandedKeys){var g=en(s||l.treeData,o.expandedKeys||l.expandedKeys,d);o.flattenNodes=g}if(a.selectable&&(i("selectedKeys")?o.selectedKeys=Qn(a.selectedKeys,a):!h&&a.defaultSelectedKeys&&(o.selectedKeys=Qn(a.defaultSelectedKeys,a))),a.checkable){var y;if(i("checkedKeys")?y=tn(a.checkedKeys)||{}:!h&&a.defaultCheckedKeys?y=tn(a.defaultCheckedKeys)||{}:s&&(y=tn(a.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),y){var b=y,u=b.checkedKeys,m=u===void 0?[]:u,w=b.halfCheckedKeys,N=w===void 0?[]:w;if(!a.checkStrictly){var z=Zt(m,!0,p);m=z.checkedKeys,N=z.halfCheckedKeys}o.checkedKeys=m,o.halfCheckedKeys=N}}return i("loadedKeys")&&(o.loadedKeys=a.loadedKeys),o}}]),r}(x.Component);wn.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:bi,allowDrop:function(){return!0},expandAction:!1};wn.TreeNode=dt;var Li={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Mi=Li;var Ai=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:Mi}))};const Ir=x.forwardRef(Ai);var Ri={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const ji=Ri;var Vi=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:ji}))};const Hi=x.forwardRef(Vi);var Fi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const Bi=Fi;var Gi=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:Bi}))};const qi=x.forwardRef(Gi),Ui=new ri("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Wi=(n,t)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Yi=(n,t)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Xi=(n,t)=>{const{treeCls:r,treeNodeCls:e,treeNodePadding:a,titleHeight:l,nodeSelectedBg:h,nodeHoverBg:o}=t,i=t.paddingXS;return{[r]:Object.assign(Object.assign({},Ht(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${r}-rtl`]:{[`${r}-switcher`]:{"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${r}-active-focused)`]:Object.assign({},fn(t)),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Ui,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${e}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${r}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${r}-node-content-wrapper`]:Object.assign({},fn(t)),[`&:not(${e}-disabled).filter-node ${r}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${r}-draggable-icon`]:{flexShrink:0,width:l,lineHeight:`${l}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${r}-draggable-icon`]:{visibility:"hidden"}}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:l}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher`]:Object.assign(Object.assign({},Wi(n,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,margin:0,lineHeight:`${l}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${r}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:l/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:l/2*.8,height:l/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${r}-checkbox`]:{top:"initial",marginInlineEnd:i,alignSelf:"flex-start",marginTop:t.marginXXS},[`${r}-node-content-wrapper, ${r}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:l,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${l}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:o},[`&${r}-node-selected`]:{backgroundColor:h},[`${r}-iconEle`]:{display:"inline-block",width:l,height:l,lineHeight:`${l}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}-node-content-wrapper`]:Object.assign({lineHeight:`${l}px`,userSelect:"none"},Yi(n,t)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${r}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:l/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${r}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${l/2}px !important`}}}}})}},Ji=n=>{const{treeCls:t,treeNodeCls:r,treeNodePadding:e,directoryNodeSelectedBg:a,directoryNodeSelectedColor:l}=n;return{[`${t}${t}-directory`]:{[r]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:l,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:a},[`${t}-switcher`]:{color:l},[`${t}-node-content-wrapper`]:{color:l,background:"transparent"}}}}}},Qi=(n,t)=>{const r=`.${n}`,e=`${r}-treenode`,a=t.paddingXS/2,l=hr(t,{treeCls:r,treeNodeCls:e,treeNodePadding:a});return[Xi(n,l),Ji(l)]},Zi=n=>{const{controlHeightSM:t}=n;return{titleHeight:t,nodeHoverBg:n.controlItemBgHover,nodeSelectedBg:n.controlItemBgActive}},eo=fr("Tree",(n,t)=>{let{prefixCls:r}=t;return[{[n.componentCls]:Cr(`${r}-checkbox`,n)},Qi(r,n),ni(n)]},n=>{const{colorTextLightSolid:t,colorPrimary:r}=n;return Object.assign(Object.assign({},Zi(n)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:r})}),Zn=4;function to(n){const{dropPosition:t,dropLevelOffset:r,prefixCls:e,indent:a,direction:l="ltr"}=n,h=l==="ltr"?"left":"right",o=l==="ltr"?"right":"left",i={[h]:-r*a+Zn,[o]:0};switch(t){case-1:i.top=-3;break;case 1:i.bottom=-3;break;default:i.bottom=-3,i[h]=a+Zn;break}return ae.createElement("div",{style:i,className:`${e}-drop-indicator`})}var no={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const ro=no;var io=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:ro}))};const oo=x.forwardRef(io);var ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const so=ao;var lo=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:so}))};const co=x.forwardRef(lo);var uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const ho=uo;var fo=function(t,r){return x.createElement(ct,se({},t,{ref:r,icon:ho}))};const po=x.forwardRef(fo),vo=n=>{const{prefixCls:t,switcherIcon:r,treeNodeProps:e,showLine:a}=n,{isLeaf:l,expanded:h,loading:o}=e;if(o)return x.createElement(ii,{className:`${t}-switcher-loading-icon`});let i;if(a&&typeof a=="object"&&(i=a.showLeafIcon),l){if(!a)return null;if(typeof i!="boolean"&&i){const c=typeof i=="function"?i(e):i,p=`${t}-switcher-line-custom-icon`;return jn(c)?Vn(c,{className:ue(c.props.className||"",p)}):c}return i?x.createElement(Ir,{className:`${t}-switcher-line-icon`}):x.createElement("span",{className:`${t}-switcher-leaf-line`})}const s=`${t}-switcher-icon`,d=typeof r=="function"?r(e):r;return jn(d)?Vn(d,{className:ue(d.props.className||"",s)}):d!==void 0?d:a?h?x.createElement(co,{className:`${t}-switcher-line-icon`}):x.createElement(po,{className:`${t}-switcher-line-icon`}):x.createElement(oo,{className:s})},go=vo,mo=ae.forwardRef((n,t)=>{const{getPrefixCls:r,direction:e,virtual:a,tree:l}=ae.useContext(Sr),{prefixCls:h,className:o,showIcon:i=!1,showLine:s,switcherIcon:d,blockNode:c=!1,children:p,checkable:v=!1,selectable:g=!0,draggable:y,motion:b,style:u}=n,m=r("tree",h),w=r(),N=b??Object.assign(Object.assign({},oi(w)),{motionAppear:!1}),z=Object.assign(Object.assign({},n),{checkable:v,selectable:g,showIcon:i,motion:N,blockNode:c,showLine:!!s,dropIndicatorRender:to}),[I,E]=eo(m),k=ae.useMemo(()=>{if(!y)return!1;let C={};switch(typeof y){case"function":C.nodeDraggable=y;break;case"object":C=Object.assign({},y);break}return C.icon!==!1&&(C.icon=C.icon||ae.createElement(qi,null)),C},[y]),K=C=>ae.createElement(go,{prefixCls:m,switcherIcon:d,treeNodeProps:C,showLine:s});return I(ae.createElement(wn,Object.assign({itemHeight:20,ref:t,virtual:a},z,{style:Object.assign(Object.assign({},l==null?void 0:l.style),u),prefixCls:m,className:ue({[`${m}-icon-hide`]:!i,[`${m}-block-node`]:c,[`${m}-unselectable`]:!g,[`${m}-rtl`]:e==="rtl"},l==null?void 0:l.className,o,E),direction:e,checkable:v&&ae.createElement("span",{className:`${m}-checkbox-inner`}),selectable:g,switcherIcon:K,draggable:k}),p))}),Dr=mo;var Le;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(Le||(Le={}));function En(n,t){function r(e){const{key:a,children:l}=e;t(a,e)!==!1&&En(l||[],t)}n.forEach(r)}function yo(n){let{treeData:t,expandedKeys:r,startKey:e,endKey:a}=n;const l=[];let h=Le.None;if(e&&e===a)return[e];if(!e||!a)return[];function o(i){return i===e||i===a}return En(t,i=>{if(h===Le.End)return!1;if(o(i)){if(l.push(i),h===Le.None)h=Le.Start;else if(h===Le.Start)return h=Le.End,!1}else h===Le.Start&&l.push(i);return r.includes(i)}),l}function nn(n,t){const r=Ie(t),e=[];return En(n,(a,l)=>{const h=r.indexOf(a);return h!==-1&&(e.push(l),r.splice(h,1)),!!r.length}),e}var er=globalThis&&globalThis.__rest||function(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(n);a<e.length;a++)t.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(n,e[a])&&(r[e[a]]=n[e[a]]);return r};function bo(n){const{isLeaf:t,expanded:r}=n;return t?x.createElement(Ir,null):r?x.createElement(Hi,null):x.createElement(di,null)}function tr(n){let{treeData:t,children:r}=n;return t||Er(r)}const So=(n,t)=>{var{defaultExpandAll:r,defaultExpandParent:e,defaultExpandedKeys:a}=n,l=er(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const h=x.useRef(),o=x.useRef(),i=()=>{const{keyEntities:k}=Nr(tr(l));let K;return r?K=Object.keys(k):e?K=vn(l.expandedKeys||a||[],k):K=l.expandedKeys||a,K},[s,d]=x.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[c,p]=x.useState(()=>i());x.useEffect(()=>{"selectedKeys"in l&&d(l.selectedKeys)},[l.selectedKeys]),x.useEffect(()=>{"expandedKeys"in l&&p(l.expandedKeys)},[l.expandedKeys]);const v=(k,K)=>{var C;return"expandedKeys"in l||p(k),(C=l.onExpand)===null||C===void 0?void 0:C.call(l,k,K)},g=(k,K)=>{var C;const{multiple:$}=l,{node:D,nativeEvent:P}=K,{key:L=""}=D,j=tr(l),B=Object.assign(Object.assign({},K),{selected:!0}),U=(P==null?void 0:P.ctrlKey)||(P==null?void 0:P.metaKey),V=P==null?void 0:P.shiftKey;let W;$&&U?(W=k,h.current=L,o.current=W,B.selectedNodes=nn(j,W)):$&&V?(W=Array.from(new Set([].concat(Ie(o.current||[]),Ie(yo({treeData:j,expandedKeys:c,startKey:L,endKey:h.current}))))),B.selectedNodes=nn(j,W)):(W=[L],h.current=L,o.current=W,B.selectedNodes=nn(j,W)),(C=l.onSelect)===null||C===void 0||C.call(l,W,B),"selectedKeys"in l||d(W)},{getPrefixCls:y,direction:b}=x.useContext(Sr),{prefixCls:u,className:m,showIcon:w=!0,expandAction:N="click"}=l,z=er(l,["prefixCls","className","showIcon","expandAction"]),I=y("tree",u),E=ue(`${I}-directory`,{[`${I}-directory-rtl`]:b==="rtl"},m);return x.createElement(Dr,Object.assign({icon:bo,ref:t,blockNode:!0},z,{showIcon:w,expandAction:N,prefixCls:I,className:E,expandedKeys:c,selectedKeys:s,onSelect:g,onExpand:v}))},xo=x.forwardRef(So),wo=xo,Nn=Dr;Nn.DirectoryTree=wo;Nn.TreeNode=dt;const Eo=Nn;function yt(){return yt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},yt.apply(this,arguments)}var rn,gn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/rn={get exports(){return gn},set exports(n){gn=n}},function(){var n={}.hasOwnProperty;function t(){for(var r=[],e=0;e<arguments.length;e++){var a=arguments[e];if(a){var l=typeof a;if(l==="string"||l==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var h=t.apply(null,a);h&&r.push(h)}}else if(l==="object")if(a.toString===Object.prototype.toString)for(var o in a)n.call(a,o)&&a[o]&&r.push(o);else r.push(a.toString())}}return r.join(" ")}rn.exports?(t.default=t,rn.exports=t):window.classNames=t}();var mn=gn,No=/^\s+|\s+$/g,Co=/^[-+]0x[0-9a-f]+$/i,Ko=/^0b[01]+$/i,_o=/^0o[0-7]+$/i,zo=parseInt,ko=Object.prototype.toString;function nr(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function on(n){if(typeof n=="number")return n;if(function(e){return typeof e=="symbol"||function(a){return!!a&&typeof a=="object"}(e)&&ko.call(e)=="[object Symbol]"}(n))return NaN;if(nr(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=nr(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(No,"");var r=Ko.test(n);return r||_o.test(n)?zo(n.slice(2),r?2:8):Co.test(n)?NaN:+n}var Ne=function(t,r,e){return e===void 0&&(e=r,r=void 0),e!==void 0&&(e=(e=on(e))==e?e:0),r!==void 0&&(r=(r=on(r))==r?r:0),function(a,l,h){return a==a&&(h!==void 0&&(a=a<=h?a:h),l!==void 0&&(a=a>=l?a:l)),a}(on(t),r,e)},Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={};(function(n,t){var r="__lodash_hash_undefined__",e=9007199254740991,a="[object Arguments]",l="[object Array]",h="[object Boolean]",o="[object Date]",i="[object Error]",s="[object Function]",d="[object Map]",c="[object Number]",p="[object Object]",v="[object Promise]",g="[object RegExp]",y="[object Set]",b="[object String]",u="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",z=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[a]=E[l]=E[w]=E[h]=E[N]=E[o]=E[i]=E[s]=E[d]=E[c]=E[p]=E[g]=E[y]=E[b]=E[m]=!1;var k=typeof Be=="object"&&Be&&Be.Object===Object&&Be,K=typeof self=="object"&&self&&self.Object===Object&&self,C=k||K||Function("return this")(),$=t&&!t.nodeType&&t,D=$&&n&&!n.nodeType&&n,P=D&&D.exports===$,L=P&&k.process,j=function(){try{return L&&L.binding&&L.binding("util")}catch{}}(),B=j&&j.isTypedArray;function U(f,S){for(var _=-1,O=f==null?0:f.length;++_<O;)if(S(f[_],_,f))return!0;return!1}function V(f){var S=-1,_=Array(f.size);return f.forEach(function(O,q){_[++S]=[q,O]}),_}function W(f){var S=-1,_=Array(f.size);return f.forEach(function(O){_[++S]=O}),_}var Z,Y,ie,ve=Array.prototype,be=Function.prototype,M=Object.prototype,T=C["__core-js_shared__"],H=be.toString,R=M.hasOwnProperty,Ge=(Z=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",tt=M.toString,Ke=RegExp("^"+H.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=P?C.Buffer:void 0,qe=C.Symbol,wt=C.Uint8Array,nt=M.propertyIsEnumerable,Et=ve.splice,Se=qe?qe.toStringTag:void 0,Nt=Object.getOwnPropertySymbols,Ct=xt?xt.isBuffer:void 0,X=(Y=Object.keys,ie=Object,function(f){return Y(ie(f))}),ge=rt(C,"DataView"),fe=rt(C,"Map"),_e=rt(C,"Promise"),xe=rt(C,"Set"),we=rt(C,"WeakMap"),ze=rt(Object,"create"),Ue=Je(ge),We=Je(fe),Kn=Je(_e),Vr=Je(xe),Hr=Je(we),_n=qe?qe.prototype:void 0,Ut=_n?_n.valueOf:void 0;function Ye(f){var S=-1,_=f==null?0:f.length;for(this.clear();++S<_;){var O=f[S];this.set(O[0],O[1])}}function De(f){var S=-1,_=f==null?0:f.length;for(this.clear();++S<_;){var O=f[S];this.set(O[0],O[1])}}function Xe(f){var S=-1,_=f==null?0:f.length;for(this.clear();++S<_;){var O=f[S];this.set(O[0],O[1])}}function Kt(f){var S=-1,_=f==null?0:f.length;for(this.__data__=new Xe;++S<_;)this.add(f[S])}function Me(f){var S=this.__data__=new De(f);this.size=S.size}function Fr(f,S){var _=kt(f),O=!_&&Wr(f),q=!_&&!O&&Wt(f),A=!_&&!O&&!q&&Ln(f),J=_||O||q||A,ee=J?function(re,ke){for(var Oe=-1,le=Array(re);++Oe<re;)le[Oe]=ke(Oe);return le}(f.length,String):[],Ee=ee.length;for(var ne in f)!S&&!R.call(f,ne)||J&&(ne=="length"||q&&(ne=="offset"||ne=="parent")||A&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Ur(ne,Ee))||ee.push(ne);return ee}function _t(f,S){for(var _=f.length;_--;)if(On(f[_][0],S))return _;return-1}function ut(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Se&&Se in Object(f)?function(S){var _=R.call(S,Se),O=S[Se];try{S[Se]=void 0;var q=!0}catch{}var A=tt.call(S);return q&&(_?S[Se]=O:delete S[Se]),A}(f):function(S){return tt.call(S)}(f)}function zn(f){return ht(f)&&ut(f)==a}function kn(f,S,_,O,q){return f===S||(f==null||S==null||!ht(f)&&!ht(S)?f!=f&&S!=S:function(A,J,ee,Ee,ne,re){var ke=kt(A),Oe=kt(J),le=ke?l:Ae(A),$e=Oe?l:Ae(J),it=(le=le==a?p:le)==p,It=($e=$e==a?p:$e)==p,ot=le==$e;if(ot&&Wt(A)){if(!Wt(J))return!1;ke=!0,it=!1}if(ot&&!it)return re||(re=new Me),ke||Ln(A)?In(A,J,ee,Ee,ne,re):function(G,F,Dt,Re,Yt,me,Pe){switch(Dt){case N:if(G.byteLength!=F.byteLength||G.byteOffset!=F.byteOffset)return!1;G=G.buffer,F=F.buffer;case w:return!(G.byteLength!=F.byteLength||!me(new wt(G),new wt(F)));case h:case o:case c:return On(+G,+F);case i:return G.name==F.name&&G.message==F.message;case g:case b:return G==F+"";case d:var je=V;case y:var pt=1&Re;if(je||(je=W),G.size!=F.size&&!pt)return!1;var Ot=Pe.get(G);if(Ot)return Ot==F;Re|=2,Pe.set(G,F);var at=In(je(G),je(F),Re,Yt,me,Pe);return Pe.delete(G),at;case u:if(Ut)return Ut.call(G)==Ut.call(F)}return!1}(A,J,le,ee,Ee,ne,re);if(!(1&ee)){var ft=it&&R.call(A,"__wrapped__"),Mn=It&&R.call(J,"__wrapped__");if(ft||Mn){var Xr=ft?A.value():A,Jr=Mn?J.value():J;return re||(re=new Me),ne(Xr,Jr,ee,Ee,re)}}return ot?(re||(re=new Me),function(G,F,Dt,Re,Yt,me){var Pe=1&Dt,je=Dn(G),pt=je.length,Ot=Dn(F).length;if(pt!=Ot&&!Pe)return!1;for(var at=pt;at--;){var Qe=je[at];if(!(Pe?Qe in F:R.call(F,Qe)))return!1}var An=me.get(G);if(An&&me.get(F))return An==F;var $t=!0;me.set(G,F),me.set(F,G);for(var Xt=Pe;++at<pt;){var Pt=G[Qe=je[at]],Tt=F[Qe];if(Re)var Rn=Pe?Re(Tt,Pt,Qe,F,G,me):Re(Pt,Tt,Qe,G,F,me);if(!(Rn===void 0?Pt===Tt||Yt(Pt,Tt,Dt,Re,me):Rn)){$t=!1;break}Xt||(Xt=Qe=="constructor")}if($t&&!Xt){var Lt=G.constructor,Mt=F.constructor;Lt==Mt||!("constructor"in G)||!("constructor"in F)||typeof Lt=="function"&&Lt instanceof Lt&&typeof Mt=="function"&&Mt instanceof Mt||($t=!1)}return me.delete(G),me.delete(F),$t}(A,J,ee,Ee,ne,re)):!1}(f,S,_,O,kn,q))}function Br(f){return!(!Tn(f)||function(S){return!!Ge&&Ge in S}(f))&&($n(f)?Ke:z).test(Je(f))}function Gr(f){if(_=(S=f)&&S.constructor,O=typeof _=="function"&&_.prototype||M,S!==O)return X(f);var S,_,O,q=[];for(var A in Object(f))R.call(f,A)&&A!="constructor"&&q.push(A);return q}function In(f,S,_,O,q,A){var J=1&_,ee=f.length,Ee=S.length;if(ee!=Ee&&!(J&&Ee>ee))return!1;var ne=A.get(f);if(ne&&A.get(S))return ne==S;var re=-1,ke=!0,Oe=2&_?new Kt:void 0;for(A.set(f,S),A.set(S,f);++re<ee;){var le=f[re],$e=S[re];if(O)var it=J?O($e,le,re,S,f,A):O(le,$e,re,f,S,A);if(it!==void 0){if(it)continue;ke=!1;break}if(Oe){if(!U(S,function(It,ot){if(ft=ot,!Oe.has(ft)&&(le===It||q(le,It,_,O,A)))return Oe.push(ot);var ft})){ke=!1;break}}else if(le!==$e&&!q(le,$e,_,O,A)){ke=!1;break}}return A.delete(f),A.delete(S),ke}function Dn(f){return function(S,_,O){var q=_(S);return kt(S)?q:function(A,J){for(var ee=-1,Ee=J.length,ne=A.length;++ee<Ee;)A[ne+ee]=J[ee];return A}(q,O(S))}(f,Yr,qr)}function zt(f,S){var _,O,q=f.__data__;return((O=typeof(_=S))=="string"||O=="number"||O=="symbol"||O=="boolean"?_!=="__proto__":_===null)?q[typeof S=="string"?"string":"hash"]:q.map}function rt(f,S){var _=function(O,q){return O==null?void 0:O[q]}(f,S);return Br(_)?_:void 0}Ye.prototype.clear=function(){this.__data__=ze?ze(null):{},this.size=0},Ye.prototype.delete=function(f){var S=this.has(f)&&delete this.__data__[f];return this.size-=S?1:0,S},Ye.prototype.get=function(f){var S=this.__data__;if(ze){var _=S[f];return _===r?void 0:_}return R.call(S,f)?S[f]:void 0},Ye.prototype.has=function(f){var S=this.__data__;return ze?S[f]!==void 0:R.call(S,f)},Ye.prototype.set=function(f,S){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=ze&&S===void 0?r:S,this},De.prototype.clear=function(){this.__data__=[],this.size=0},De.prototype.delete=function(f){var S=this.__data__,_=_t(S,f);return!(_<0)&&(_==S.length-1?S.pop():Et.call(S,_,1),--this.size,!0)},De.prototype.get=function(f){var S=this.__data__,_=_t(S,f);return _<0?void 0:S[_][1]},De.prototype.has=function(f){return _t(this.__data__,f)>-1},De.prototype.set=function(f,S){var _=this.__data__,O=_t(_,f);return O<0?(++this.size,_.push([f,S])):_[O][1]=S,this},Xe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ye,map:new(fe||De),string:new Ye}},Xe.prototype.delete=function(f){var S=zt(this,f).delete(f);return this.size-=S?1:0,S},Xe.prototype.get=function(f){return zt(this,f).get(f)},Xe.prototype.has=function(f){return zt(this,f).has(f)},Xe.prototype.set=function(f,S){var _=zt(this,f),O=_.size;return _.set(f,S),this.size+=_.size==O?0:1,this},Kt.prototype.add=Kt.prototype.push=function(f){return this.__data__.set(f,r),this},Kt.prototype.has=function(f){return this.__data__.has(f)},Me.prototype.clear=function(){this.__data__=new De,this.size=0},Me.prototype.delete=function(f){var S=this.__data__,_=S.delete(f);return this.size=S.size,_},Me.prototype.get=function(f){return this.__data__.get(f)},Me.prototype.has=function(f){return this.__data__.has(f)},Me.prototype.set=function(f,S){var _=this.__data__;if(_ instanceof De){var O=_.__data__;if(!fe||O.length<199)return O.push([f,S]),this.size=++_.size,this;_=this.__data__=new Xe(O)}return _.set(f,S),this.size=_.size,this};var qr=Nt?function(f){return f==null?[]:(f=Object(f),function(S,_){for(var O=-1,q=S==null?0:S.length,A=0,J=[];++O<q;){var ee=S[O];_(ee,O,S)&&(J[A++]=ee)}return J}(Nt(f),function(S){return nt.call(f,S)}))}:function(){return[]},Ae=ut;function Ur(f,S){return!!(S=S??e)&&(typeof f=="number"||I.test(f))&&f>-1&&f%1==0&&f<S}function Je(f){if(f!=null){try{return H.call(f)}catch{}try{return f+""}catch{}}return""}function On(f,S){return f===S||f!=f&&S!=S}(ge&&Ae(new ge(new ArrayBuffer(1)))!=N||fe&&Ae(new fe)!=d||_e&&Ae(_e.resolve())!=v||xe&&Ae(new xe)!=y||we&&Ae(new we)!=m)&&(Ae=function(f){var S=ut(f),_=S==p?f.constructor:void 0,O=_?Je(_):"";if(O)switch(O){case Ue:return N;case We:return d;case Kn:return v;case Vr:return y;case Hr:return m}return S});var Wr=zn(function(){return arguments}())?zn:function(f){return ht(f)&&R.call(f,"callee")&&!nt.call(f,"callee")},kt=Array.isArray,Wt=Ct||function(){return!1};function $n(f){if(!Tn(f))return!1;var S=ut(f);return S==s||S=="[object GeneratorFunction]"||S=="[object AsyncFunction]"||S=="[object Proxy]"}function Pn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=e}function Tn(f){var S=typeof f;return f!=null&&(S=="object"||S=="function")}function ht(f){return f!=null&&typeof f=="object"}var Ln=B?function(f){return function(S){return f(S)}}(B):function(f){return ht(f)&&Pn(f.length)&&!!E[ut(f)]};function Yr(f){return(S=f)!=null&&Pn(S.length)&&!$n(S)?Fr(f):Gr(f);var S}n.exports=function(f,S){return kn(f,S)}})({get exports(){return Ft},set exports(n){Ft=n}},Ft);var Io=Ft;function rr(n,t,r){return n[t]?n[t][0]?n[t][0][r]:n[t][r]:t==="contentBoxSize"?n.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Do(n){n===void 0&&(n={});var t=n.onResize,r=x.useRef(void 0);r.current=t;var e=n.round||Math.round,a=x.useRef(),l=x.useState({width:void 0,height:void 0}),h=l[0],o=l[1],i=x.useRef(!1);x.useEffect(function(){return i.current=!1,function(){i.current=!0}},[]);var s=x.useRef({width:void 0,height:void 0}),d=function(c,p){var v=x.useRef(null),g=x.useRef(null);g.current=p;var y=x.useRef(null);x.useEffect(function(){b()});var b=x.useCallback(function(){var u=y.current,m=g.current,w=u||(m?m instanceof Element?m:m.current:null);v.current&&v.current.element===w&&v.current.subscriber===c||(v.current&&v.current.cleanup&&v.current.cleanup(),v.current={element:w,subscriber:c,cleanup:w?c(w):void 0})},[c]);return x.useEffect(function(){return function(){v.current&&v.current.cleanup&&(v.current.cleanup(),v.current=null)}},[]),x.useCallback(function(u){y.current=u,b()},[b])}(x.useCallback(function(c){return a.current&&a.current.box===n.box&&a.current.round===e||(a.current={box:n.box,round:e,instance:new ResizeObserver(function(p){var v=p[0],g=n.box==="border-box"?"borderBoxSize":n.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",y=rr(v,g,"inlineSize"),b=rr(v,g,"blockSize"),u=y?e(y):void 0,m=b?e(b):void 0;if(s.current.width!==u||s.current.height!==m){var w={width:u,height:m};s.current.width=u,s.current.height=m,r.current?r.current(w):i.current||o(w)}})}),a.current.instance.observe(c,{box:n.box}),function(){a.current&&a.current.instance.unobserve(c)}},[n.box,e]),n.ref);return x.useMemo(function(){return{ref:d,width:h.width,height:h.height}},[d,h.width,h.height])}var Oo="allotment-module_splitView__L-yRc",$o="allotment-module_sashContainer__fzwJF",Po="allotment-module_splitViewContainer__rQnVa",Or="allotment-module_splitViewView__MGZ6O",To="allotment-module_vertical__WSwwa",Lo="allotment-module_horizontal__7doS8",Mo="allotment-module_separatorBorder__x-rDS";let vt,$r=!1,Pr=!1;typeof navigator=="object"&&(vt=navigator.userAgent,Pr=vt.indexOf("Macintosh")>=0,$r=(vt.indexOf("Macintosh")>=0||vt.indexOf("iPad")>=0||vt.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const Tr=$r,Ao=Pr,an=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?x.useLayoutEffect:x.useEffect;class Ro{constructor(){this._size=void 0}getSize(){return this._size}setSize(t){this._size=t}}function jt(n,t){const r=n.length,e=r-t.length;return e>=0&&n.slice(e,r)===t}var bt={};(function(n){var t=Object.prototype.hasOwnProperty,r="~";function e(){}function a(i,s,d){this.fn=i,this.context=s,this.once=d||!1}function l(i,s,d,c,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new a(d,c||i,p),g=r?r+s:s;return i._events[g]?i._events[g].fn?i._events[g]=[i._events[g],v]:i._events[g].push(v):(i._events[g]=v,i._eventsCount++),i}function h(i,s){--i._eventsCount==0?i._events=new e:delete i._events[s]}function o(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(r=!1)),o.prototype.eventNames=function(){var i,s,d=[];if(this._eventsCount===0)return d;for(s in i=this._events)t.call(i,s)&&d.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(i)):d},o.prototype.listeners=function(i){var s=r?r+i:i,d=this._events[s];if(!d)return[];if(d.fn)return[d.fn];for(var c=0,p=d.length,v=new Array(p);c<p;c++)v[c]=d[c].fn;return v},o.prototype.listenerCount=function(i){var s=r?r+i:i,d=this._events[s];return d?d.fn?1:d.length:0},o.prototype.emit=function(i,s,d,c,p,v){var g=r?r+i:i;if(!this._events[g])return!1;var y,b,u=this._events[g],m=arguments.length;if(u.fn){switch(u.once&&this.removeListener(i,u.fn,void 0,!0),m){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,s),!0;case 3:return u.fn.call(u.context,s,d),!0;case 4:return u.fn.call(u.context,s,d,c),!0;case 5:return u.fn.call(u.context,s,d,c,p),!0;case 6:return u.fn.call(u.context,s,d,c,p,v),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];u.fn.apply(u.context,y)}else{var w,N=u.length;for(b=0;b<N;b++)switch(u[b].once&&this.removeListener(i,u[b].fn,void 0,!0),m){case 1:u[b].fn.call(u[b].context);break;case 2:u[b].fn.call(u[b].context,s);break;case 3:u[b].fn.call(u[b].context,s,d);break;case 4:u[b].fn.call(u[b].context,s,d,c);break;default:if(!y)for(w=1,y=new Array(m-1);w<m;w++)y[w-1]=arguments[w];u[b].fn.apply(u[b].context,y)}}return!0},o.prototype.on=function(i,s,d){return l(this,i,s,d,!1)},o.prototype.once=function(i,s,d){return l(this,i,s,d,!0)},o.prototype.removeListener=function(i,s,d,c){var p=r?r+i:i;if(!this._events[p])return this;if(!s)return h(this,p),this;var v=this._events[p];if(v.fn)v.fn!==s||c&&!v.once||d&&v.context!==d||h(this,p);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==s||c&&!v[g].once||d&&v[g].context!==d)&&y.push(v[g]);y.length?this._events[p]=y.length===1?y[0]:y:h(this,p)}return this},o.prototype.removeAllListeners=function(i){var s;return i?(s=r?r+i:i,this._events[s]&&h(this,s)):(this._events=new e,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,n.exports=o})({get exports(){return bt},set exports(n){bt=n}});function ir(n,t){const r=n.indexOf(t);r>-1&&(n.splice(r,1),n.unshift(t))}function sn(n,t){const r=n.indexOf(t);r>-1&&(n.splice(r,1),n.push(t))}function ye(n,t,r=1){const e=Math.max(0,Math.ceil((t-n)/r)),a=new Array(e);let l=-1;for(;++l<e;)a[l]=n+l*r;return a}var jo=/^\s+|\s+$/g,Vo=/^[-+]0x[0-9a-f]+$/i,Ho=/^0b[01]+$/i,Fo=/^0o[0-7]+$/i,Bo=parseInt,Go=typeof Be=="object"&&Be&&Be.Object===Object&&Be,qo=typeof self=="object"&&self&&self.Object===Object&&self,Uo=Go||qo||Function("return this")(),Wo=Object.prototype.toString,Yo=Math.max,Xo=Math.min,ln=function(){return Uo.Date.now()};function yn(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function or(n){if(typeof n=="number")return n;if(function(e){return typeof e=="symbol"||function(a){return!!a&&typeof a=="object"}(e)&&Wo.call(e)=="[object Symbol]"}(n))return NaN;if(yn(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=yn(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(jo,"");var r=Ho.test(n);return r||Fo.test(n)?Bo(n.slice(2),r?2:8):Vo.test(n)?NaN:+n}var Jo=function(t,r,e){var a,l,h,o,i,s,d=0,c=!1,p=!1,v=!0;if(typeof t!="function")throw new TypeError("Expected a function");function g(N){var z=a,I=l;return a=l=void 0,d=N,o=t.apply(I,z)}function y(N){return d=N,i=setTimeout(u,r),c?g(N):o}function b(N){var z=N-s;return s===void 0||z>=r||z<0||p&&N-d>=h}function u(){var N=ln();if(b(N))return m(N);i=setTimeout(u,function(z){var I=r-(z-s);return p?Xo(I,h-(z-d)):I}(N))}function m(N){return i=void 0,v&&a?g(N):(a=l=void 0,o)}function w(){var N=ln(),z=b(N);if(a=arguments,l=this,s=N,z){if(i===void 0)return y(s);if(p)return i=setTimeout(u,r),g(s)}return i===void 0&&(i=setTimeout(u,r)),o}return r=or(r)||0,yn(e)&&(c=!!e.leading,h=(p="maxWait"in e)?Yo(or(e.maxWait)||0,r):h,v="trailing"in e?!!e.trailing:v),w.cancel=function(){i!==void 0&&clearTimeout(i),d=0,a=s=l=i=void 0},w.flush=function(){return i===void 0?o:m(ln())},w},Qo="sash-module_sash__K-9lB",Zo="sash-module_disabled__Hm-wx",ea="sash-module_mac__Jf6OJ",ar="sash-module_vertical__pB-rs",ta="sash-module_minimum__-UKxp",na="sash-module_maximum__TCWxD",sr="sash-module_horizontal__kFbiw",dn="sash-module_hover__80W6I",cn="sash-module_active__bJspD";let he,de;(function(n){n.Vertical="VERTICAL",n.Horizontal="HORIZONTAL"})(he||(he={})),function(n){n.Disabled="DISABLED",n.Minimum="MINIMUM",n.Maximum="MAXIMUM",n.Enabled="ENABLED"}(de||(de={}));let Lr=Tr?20:8;const Mr=new bt;class lr extends bt{get state(){return this._state}set state(t){this._state!==t&&(this.el.classList.toggle(Zo,t===de.Disabled),this.el.classList.toggle("dash-disabled",t===de.Disabled),this.el.classList.toggle(ta,t===de.Minimum),this.el.classList.toggle("sash-minimum",t===de.Minimum),this.el.classList.toggle(na,t===de.Maximum),this.el.classList.toggle("sash-maximum",t===de.Maximum),this._state=t,this.emit("enablementChange",t))}constructor(t,r,e){var a;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=Jo(l=>l.classList.add("sash-hover",dn),this.hoverDelay),this._state=de.Enabled,this.onPointerStart=l=>{const h=l.pageX,o=l.pageY,i={startX:h,currentX:h,startY:o,currentY:o};this.el.classList.add("sash-active",cn),this.emit("start",i),this.el.setPointerCapture(l.pointerId);const s=c=>{c.preventDefault();const p={startX:h,currentX:c.pageX,startY:o,currentY:c.pageY};this.emit("change",p)},d=c=>{c.preventDefault(),this.el.classList.remove("sash-active",cn),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(c.pointerId),window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",d)};window.addEventListener("pointermove",s),window.addEventListener("pointerup",d)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(cn)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",dn)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",dn)},this.el=document.createElement("div"),this.el.classList.add("sash",Qo),this.el.dataset.testid="sash",t.append(this.el),Ao&&this.el.classList.add("sash-mac",ea),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof e.size=="number"?(this.size=e.size,e.orientation===he.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Lr,Mr.on("onDidChangeGlobalSize",l=>{this.size=l,this.layout()})),this.layoutProvider=r,this.orientation=(a=e.orientation)!=null?a:he.Vertical,this.orientation===he.Horizontal?(this.el.classList.add("sash-horizontal",sr),this.el.classList.remove("sash-vertical",ar)):(this.el.classList.remove("sash-horizontal",sr),this.el.classList.add("sash-vertical",ar)),this.layout()}layout(){if(this.orientation===he.Vertical){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let Gt;var un;let Ce;(un=Gt||(Gt={})).Distribute={type:"distribute"},un.Split=function(n){return{type:"split",index:n}},un.Invisible=function(n){return{type:"invisible",cachedVisibleSize:n}},function(n){n.Normal="NORMAL",n.Low="LOW",n.High="HIGH"}(Ce||(Ce={}));class Ar{constructor(t,r,e){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=t,this.view=r,this.container.classList.add("split-view-view",Or),this.container.dataset.testid="split-view-view",typeof e=="number"?(this._size=e,this._cachedVisibleSize=void 0,t.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=e.cachedVisibleSize)}set size(t){this._size=t}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(t,r){t!==this.visible&&(t?(this.size=Ne(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof r=="number"?r:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",t),this.view.setVisible&&this.view.setVisible(t))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(t){this.container.style.pointerEvents=t?"":"none"}layout(t){this.layoutContainer(t),this.view.layout(this.size,t)}}class ra extends Ar{layoutContainer(t){this.container.style.left=`${t}px`,this.container.style.width=`${this.size}px`}}class ia extends Ar{layoutContainer(t){this.container.style.top=`${t}px`,this.container.style.height=`${this.size}px`}}class oa extends bt{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(t){this._startSnappingEnabled!==t&&(this._startSnappingEnabled=t,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(t){this._endSnappingEnabled!==t&&(this._endSnappingEnabled=t,this.updateSashEnablement())}constructor(t,r={},e){var a,l;if(super(),this.onDidChange=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=h=>{this.emit("sashchange",h),this.saveProportions();for(const o of this.viewItems)o.enabled=!0},this.orientation=(a=r.orientation)!=null?a:he.Vertical,this.proportionalLayout=(l=r.proportionalLayout)!=null?l:!0,this.getSashOrthogonalSize=r.getSashOrthogonalSize,e&&(this.onDidChange=e),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",$o),t.prepend(this.sashContainer),r.descriptor){this.size=r.descriptor.size;for(const[h,o]of r.descriptor.views.entries()){const i=o.size,s=o.container,d=o.view;this.addView(s,d,i,h,!0)}this.contentSize=this.viewItems.reduce((h,o)=>h+o.size,0),this.saveProportions()}}addView(t,r,e,a=this.viewItems.length,l){let h;h=typeof e=="number"?e:e.type==="split"?this.getViewSize(e.index)/2:e.type==="invisible"?{cachedVisibleSize:e.cachedVisibleSize}:r.minimumSize;const o=this.orientation===he.Vertical?new ia(t,r,h):new ra(t,r,h);if(this.viewItems.splice(a,0,o),this.viewItems.length>1){const i=this.orientation===he.Vertical?new lr(this.sashContainer,{getHorizontalSashTop:c=>this.getSashPosition(c),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:he.Horizontal}):new lr(this.sashContainer,{getVerticalSashLeft:c=>this.getSashPosition(c),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:he.Vertical}),s=this.orientation===he.Vertical?c=>({sash:i,start:c.startY,current:c.currentY}):c=>({sash:i,start:c.startX,current:c.currentX});i.on("start",c=>{this.emit("sashDragStart"),this.onSashStart(s(c))}),i.on("change",c=>this.onSashChange(s(c))),i.on("end",()=>{this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(c=>c.sash===i))}),i.on("reset",()=>{const c=this.sashItems.findIndex(b=>b.sash===i),p=ye(c,-1,-1),v=ye(c+1,this.viewItems.length),g=this.findFirstSnapIndex(p),y=this.findFirstSnapIndex(v);(typeof g!="number"||this.viewItems[g].visible)&&(typeof y!="number"||this.viewItems[y].visible)&&this.emit("sashreset",c)});const d={sash:i};this.sashItems.splice(a-1,0,d)}l||this.relayout(),l||typeof e=="number"||e.type!=="distribute"||this.distributeViewSizes()}removeView(t,r){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");const e=this.viewItems.splice(t,1)[0].view;if(this.viewItems.length>=1){const a=Math.max(t-1,0);this.sashItems.splice(a,1)[0].sash.dispose()}return this.relayout(),r&&r.type==="distribute"&&this.distributeViewSizes(),e}moveView(t,r,e){const a=this.getViewCachedVisibleSize(r),l=a===void 0?this.getViewSize(r):Gt.Invisible(a),h=this.removeView(r);this.addView(t,h,l,e)}getViewCachedVisibleSize(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].cachedVisibleSize}layout(t=this.size){const r=Math.max(this.size,this.contentSize);if(this.size=t,this.proportions)for(let e=0;e<this.viewItems.length;e++){const a=this.viewItems[e];a.size=Ne(Math.round(this.proportions[e]*t),a.minimumSize,a.maximumSize)}else{const e=ye(0,this.viewItems.length),a=e.filter(h=>this.viewItems[h].priority===Ce.Low),l=e.filter(h=>this.viewItems[h].priority===Ce.High);this.resize(this.viewItems.length-1,t-r,void 0,a,l)}this.distributeEmptySpace(),this.layoutViews()}resizeView(t,r){if(t<0||t>=this.viewItems.length)return;const e=ye(0,this.viewItems.length).filter(o=>o!==t),a=[...e.filter(o=>this.viewItems[o].priority===Ce.Low),t],l=e.filter(o=>this.viewItems[o].priority===Ce.High),h=this.viewItems[t];r=Math.round(r),r=Ne(r,h.minimumSize,Math.min(h.maximumSize,this.size)),h.size=r,this.relayout(a,l)}resizeViews(t){for(let r=0;r<t.length;r++){const e=this.viewItems[r];let a=t[r];a=Math.round(a),a=Ne(a,e.minimumSize,Math.min(e.maximumSize,this.size)),e.size=a}this.contentSize=this.viewItems.reduce((r,e)=>r+e.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size}isViewVisible(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].visible}setViewVisible(t,r){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[t].setVisible(r),this.distributeEmptySpace(t),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const t=[];let r=0;for(const o of this.viewItems)o.maximumSize-o.minimumSize>0&&(t.push(o),r+=o.size);const e=Math.floor(r/t.length);for(const o of t)o.size=Ne(e,o.minimumSize,o.maximumSize);const a=ye(0,this.viewItems.length),l=a.filter(o=>this.viewItems[o].priority===Ce.Low),h=a.filter(o=>this.viewItems[o].priority===Ce.High);this.relayout(l,h)}dispose(){this.sashItems.forEach(t=>t.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(t,r){const e=this.viewItems.reduce((a,l)=>a+l.size,0);this.resize(this.viewItems.length-1,this.size-e,void 0,t,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:t,start:r}){const e=this.sashItems.findIndex(a=>a.sash===t);(a=>{const l=this.viewItems.map(m=>m.size);let h,o,i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;const d=ye(e,-1,-1),c=ye(e+1,this.viewItems.length),p=d.reduce((m,w)=>m+(this.viewItems[w].minimumSize-l[w]),0),v=d.reduce((m,w)=>m+(this.viewItems[w].viewMaximumSize-l[w]),0),g=c.length===0?Number.POSITIVE_INFINITY:c.reduce((m,w)=>m+(l[w]-this.viewItems[w].minimumSize),0),y=c.length===0?Number.NEGATIVE_INFINITY:c.reduce((m,w)=>m+(l[w]-this.viewItems[w].viewMaximumSize),0);i=Math.max(p,y),s=Math.min(g,v);const b=this.findFirstSnapIndex(d),u=this.findFirstSnapIndex(c);if(typeof b=="number"){const m=this.viewItems[b],w=Math.floor(m.viewMinimumSize/2);h={index:b,limitDelta:m.visible?i-w:i+w,size:m.size}}if(typeof u=="number"){const m=this.viewItems[u],w=Math.floor(m.viewMinimumSize/2);o={index:u,limitDelta:m.visible?s+w:s-w,size:m.size}}this.sashDragState={start:a,current:a,index:e,sizes:l,minDelta:i,maxDelta:s,snapBefore:h,snapAfter:o}})(r)}onSashChange({current:t}){const{index:r,start:e,sizes:a,minDelta:l,maxDelta:h,snapBefore:o,snapAfter:i}=this.sashDragState;this.sashDragState.current=t;const s=t-e;this.resize(r,s,a,void 0,void 0,l,h,o,i),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(t){let r=0;for(let e=0;e<this.sashItems.length;e++)if(r+=this.viewItems[e].size,this.sashItems[e].sash===t)return r;return 0}resize(t,r,e=this.viewItems.map(d=>d.size),a,l,h=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i,s){if(t<0||t>=this.viewItems.length)return 0;const d=ye(t,-1,-1),c=ye(t+1,this.viewItems.length);if(l)for(const E of l)ir(d,E),ir(c,E);if(a)for(const E of a)sn(d,E),sn(c,E);const p=d.map(E=>this.viewItems[E]),v=d.map(E=>e[E]),g=c.map(E=>this.viewItems[E]),y=c.map(E=>e[E]),b=d.reduce((E,k)=>E+(this.viewItems[k].minimumSize-e[k]),0),u=d.reduce((E,k)=>E+(this.viewItems[k].maximumSize-e[k]),0),m=c.length===0?Number.POSITIVE_INFINITY:c.reduce((E,k)=>E+(e[k]-this.viewItems[k].minimumSize),0),w=c.length===0?Number.NEGATIVE_INFINITY:c.reduce((E,k)=>E+(e[k]-this.viewItems[k].maximumSize),0),N=Math.max(b,w,h),z=Math.min(m,u,o);let I=!1;if(i){const E=this.viewItems[i.index],k=r>=i.limitDelta;I=k!==E.visible,E.setVisible(k,i.size)}if(!I&&s){const E=this.viewItems[s.index],k=r<s.limitDelta;I=k!==E.visible,E.setVisible(k,s.size)}if(I)return this.resize(t,r,e,a,l,h,o);for(let E=0,k=r=Ne(r,N,z);E<p.length;E++){const K=p[E],C=Ne(v[E]+k,K.minimumSize,K.maximumSize);k-=C-v[E],K.size=C}for(let E=0,k=r;E<g.length;E++){const K=g[E],C=Ne(y[E]-k,K.minimumSize,K.maximumSize);k+=C-y[E],K.size=C}return r}distributeEmptySpace(t){const r=this.viewItems.reduce((l,h)=>l+h.size,0);let e=this.size-r;const a=ye(this.viewItems.length-1,-1,-1);typeof t=="number"&&sn(a,t);for(let l=0;e!==0&&l<a.length;l++){const h=this.viewItems[a[l]],o=Ne(h.size+e,h.minimumSize,h.maximumSize);e-=o-h.size,h.size=o}}layoutViews(){var t;this.contentSize=this.viewItems.reduce((e,a)=>e+a.size,0);let r=0;for(const e of this.viewItems)e.layout(r),r+=e.size;(t=this.onDidChange)!=null&&t.call(this,this.viewItems.map(e=>e.size)),this.sashItems.forEach(e=>e.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(t=>t.size/this.contentSize))}updateSashEnablement(){let t=!1;const r=this.viewItems.map(i=>t=i.size-i.minimumSize>0||t);t=!1;const e=this.viewItems.map(i=>t=i.maximumSize-i.size>0||t),a=[...this.viewItems].reverse();t=!1;const l=a.map(i=>t=i.size-i.minimumSize>0||t).reverse();t=!1;const h=a.map(i=>t=i.maximumSize-i.size>0||t).reverse();let o=0;for(let i=0;i<this.sashItems.length;i++){const{sash:s}=this.sashItems[i];o+=this.viewItems[i].size;const d=!(r[i]&&h[i+1]),c=!(e[i]&&l[i+1]);if(d&&c){const p=ye(i,-1,-1),v=ye(i+1,this.viewItems.length),g=this.findFirstSnapIndex(p),y=this.findFirstSnapIndex(v),b=typeof g=="number"&&!this.viewItems[g].visible,u=typeof y=="number"&&!this.viewItems[y].visible;b&&l[i]&&(o>0||this.startSnappingEnabled)?s.state=de.Minimum:u&&r[i]&&(o<this.contentSize||this.endSnappingEnabled)?s.state=de.Maximum:s.state=de.Disabled}else s.state=d&&!c?de.Minimum:!d&&c?de.Maximum:de.Enabled}}findFirstSnapIndex(t){for(const r of t){const e=this.viewItems[r];if(e.visible&&e.snap)return r}for(const r of t){const e=this.viewItems[r];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return r}}}class lt{constructor(t){this.size=void 0,this.size=t}getPreferredSize(){return this.size}}class dr{constructor(t,r){this.proportion=void 0,this.layoutService=void 0,this.proportion=t,this.layoutService=r}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class Vt{getPreferredSize(){}}class cr{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(t){if(typeof t=="number")this.layoutStrategy=new lt(t);else if(typeof t=="string"){const r=t.trim();if(jt(r,"%")){const e=Number(r.slice(0,-1))/100;this.layoutStrategy=new dr(e,this.layoutService)}else if(jt(r,"px")){const e=Number(r.slice(0,-2))/100;this.layoutStrategy=new lt(e)}else if(typeof Number.parseFloat(r)=="number"){const e=Number.parseFloat(r);this.layoutStrategy=new lt(e)}else this.layoutStrategy=new Vt}else this.layoutStrategy=new Vt}constructor(t,r){var e;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=t,this.element=r.element,this.minimumSize=typeof r.minimumSize=="number"?r.minimumSize:30,this.maximumSize=typeof r.maximumSize=="number"?r.maximumSize:Number.POSITIVE_INFINITY,typeof r.preferredSize=="number")this.layoutStrategy=new lt(r.preferredSize);else if(typeof r.preferredSize=="string"){const a=r.preferredSize.trim();if(jt(a,"%")){const l=Number(a.slice(0,-1))/100;this.layoutStrategy=new dr(l,this.layoutService)}else if(jt(a,"px")){const l=Number(a.slice(0,-2));this.layoutStrategy=new lt(l)}else if(typeof Number.parseFloat(a)=="number"){const l=Number.parseFloat(a);this.layoutStrategy=new lt(l)}else this.layoutStrategy=new Vt}else this.layoutStrategy=new Vt;this.priority=(e=r.priority)!=null?e:Ce.Normal,this.snap=typeof r.snap=="boolean"&&r.snap}layout(t){}}function ur(n){return n.minSize!==void 0||n.maxSize!==void 0||n.preferredSize!==void 0||n.priority!==void 0||n.visible!==void 0}const Cn=x.forwardRef(({className:n,children:t},r)=>ae.createElement("div",{ref:r,className:mn("split-view-view",Or,n)},t));Cn.displayName="Allotment.Pane";const Rr=x.forwardRef(({children:n,className:t,maxSize:r=1/0,minSize:e=30,proportionalLayout:a=!0,separator:l=!0,sizes:h,defaultSizes:o=h,snap:i=!1,vertical:s=!1,onChange:d,onReset:c,onVisibleChange:p},v)=>{const g=x.useRef(null),y=x.useRef([]),b=x.useRef(new Map),u=x.useRef(null),m=x.useRef(new Map),w=x.useRef(new Ro),N=x.useRef([]),[z,I]=x.useState(!1),E=x.useMemo(()=>ae.Children.toArray(n).filter(ae.isValidElement),[n]),k=x.useCallback(K=>{var C,$;const D=(C=N.current)==null?void 0:C[K];return typeof(D==null?void 0:D.preferredSize)=="number"&&(($=u.current)!=null&&$.resizeView(K,Math.round(D.preferredSize)),!0)},[]);return x.useImperativeHandle(v,()=>({reset:()=>{if(c)c();else{var K;(K=u.current)==null||K.distributeViewSizes();for(let C=0;C<N.current.length;C++)k(C)}},resize:K=>{var C;(C=u.current)==null||C.resizeViews(K)}})),an(()=>{let K=!0;o&&m.current.size!==o.length&&(K=!1,console.warn(`Expected ${o.length} children based on defaultSizes but found ${m.current.size}`)),K&&o&&(y.current=E.map(D=>D.key));const C=yt({orientation:s?he.Vertical:he.Horizontal,proportionalLayout:a},K&&o&&{descriptor:{size:o.reduce((D,P)=>D+P,0),views:o.map((D,P)=>{var L,j,B,U;const V=b.current.get(y.current[P]),W=new cr(w.current,yt({element:document.createElement("div"),minimumSize:(L=V==null?void 0:V.minSize)!=null?L:e,maximumSize:(j=V==null?void 0:V.maxSize)!=null?j:r,priority:(B=V==null?void 0:V.priority)!=null?B:Ce.Normal},(V==null?void 0:V.preferredSize)&&{preferredSize:V==null?void 0:V.preferredSize},{snap:(U=V==null?void 0:V.snap)!=null?U:i}));return N.current.push(W),{container:[...m.current.values()][P],size:D,view:W}})}});u.current=new oa(g.current,C,d),u.current.on("sashDragStart",()=>{var D;(D=g.current)==null||D.classList.add("split-view-sash-dragging")}),u.current.on("sashDragEnd",()=>{var D;(D=g.current)==null||D.classList.remove("split-view-sash-dragging")}),u.current.on("sashchange",D=>{if(p&&u.current){const P=E.map(L=>L.key);for(let L=0;L<P.length;L++){const j=b.current.get(P[L]);(j==null?void 0:j.visible)!==void 0&&j.visible!==u.current.isViewVisible(L)&&p(L,u.current.isViewVisible(L))}}}),u.current.on("sashreset",D=>{if(c)c();else{var P;if(k(D)||k(D+1))return;(P=u.current)==null||P.distributeViewSizes()}});const $=u.current;return()=>{$.dispose()}},[]),an(()=>{if(z){const Z=E.map(M=>M.key),Y=[...y.current],ie=Z.filter(M=>!y.current.includes(M)),ve=Z.filter(M=>y.current.includes(M)),be=y.current.map(M=>!Z.includes(M));for(let M=be.length-1;M>=0;M--){var K;be[M]&&((K=u.current)!=null&&K.removeView(M),Y.splice(M,1),N.current.splice(M,1))}for(const M of ie){var C,$,D,P,L;const T=b.current.get(M),H=new cr(w.current,yt({element:document.createElement("div"),minimumSize:(C=T==null?void 0:T.minSize)!=null?C:e,maximumSize:($=T==null?void 0:T.maxSize)!=null?$:r,priority:(D=T==null?void 0:T.priority)!=null?D:Ce.Normal},(T==null?void 0:T.preferredSize)&&{preferredSize:T==null?void 0:T.preferredSize},{snap:(P=T==null?void 0:T.snap)!=null?P:i}));(L=u.current)!=null&&L.addView(m.current.get(M),H,Gt.Distribute,Z.findIndex(R=>R===M)),Y.splice(Z.findIndex(R=>R===M),0,M),N.current.splice(Z.findIndex(R=>R===M),0,H)}for(;!Io(Z,Y);)for(const[M,T]of Z.entries()){const H=Y.findIndex(R=>R===T);if(H!==M){var j;(j=u.current)==null||j.moveView(m.current.get(T),H,M);const R=Y[H];Y.splice(H,1),Y.splice(M,0,R);break}}for(const M of ie){var B;const T=Z.findIndex(R=>R===M),H=N.current[T].preferredSize;H!==void 0&&((B=u.current)==null||B.resizeView(T,H))}for(const M of[...ie,...ve]){var U,V;const T=b.current.get(M),H=Z.findIndex(R=>R===M);T&&ur(T)&&T.visible!==void 0&&((U=u.current)==null?void 0:U.isViewVisible(H))!==T.visible&&((V=u.current)==null||V.setViewVisible(H,T.visible))}for(const M of ve){const T=b.current.get(M),H=Z.findIndex(R=>R===M);if(T&&ur(T)){var W;T.preferredSize!==void 0&&N.current[H].preferredSize!==T.preferredSize&&(N.current[H].preferredSize=T.preferredSize);let R=!1;T.minSize!==void 0&&N.current[H].minimumSize!==T.minSize&&(N.current[H].minimumSize=T.minSize,R=!0),T.maxSize!==void 0&&N.current[H].maximumSize!==T.maxSize&&(N.current[H].maximumSize=T.maxSize,R=!0),R&&((W=u.current)==null||W.layout())}}(ie.length>0||be.length>0)&&(y.current=Z)}},[E,z,r,e,i]),x.useEffect(()=>{u.current&&(u.current.onDidChange=d)},[d]),Do({ref:g,onResize:({width:K,height:C})=>{var $;K&&C&&(($=u.current)!=null&&$.layout(s?C:K),w.current.setSize(s?C:K),I(!0))}}),an(()=>{if(!z){var K;const{height:C,width:$}=g.current.getBoundingClientRect();(K=u.current)!=null&&K.layout(s?C:$),w.current.setSize(s?C:$),I(!0)}},[z,s]),x.useEffect(()=>{Tr&&aa(20)},[]),ae.createElement("div",{ref:g,className:mn("split-view",s?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":l},Oo,s?To:Lo,{[Mo]:l},t)},ae.createElement("div",{className:mn("split-view-container",Po)},ae.Children.toArray(n).map(K=>{if(!ae.isValidElement(K))return null;const C=K.key;return K.type.displayName==="Allotment.Pane"?(b.current.set(C,K.props),ae.cloneElement(K,{key:C,ref:$=>{$?m.current.set(C,$):m.current.delete(C)}})):ae.createElement(Cn,{key:C,ref:$=>{$?m.current.set(C,$):m.current.delete(C)}},K)})))});function aa(n){const t=Ne(n,4,20),r=Ne(n,1,8);document.documentElement.style.setProperty("--sash-size",t+"px"),document.documentElement.style.setProperty("--sash-hover-size",r+"px"),function(e){Lr=e,Mr.emit("onDidChangeGlobalSize",e)}(t)}Rr.displayName="Allotment";var hn=Object.assign(Rr,{Pane:Cn});function sa({data:n}){var r,e;console.log(n,"data");const t=n;return ce("div",{children:ce(ci,{itemType:t.request?Hn.REQUEST:Hn.FOLDER,name:t.name,request:{method:((r=t.request)==null?void 0:r.method)||ai.PATCH,header:(e=t.request)==null?void 0:e.header}})})}function jr(n,t=[]){const r=n;return Object.keys(r).forEach((e,a)=>{t.push({id:r[e].infoId,children:[],key:r[e].name,request:r[e].request,name:r[e].name}),r[e].item&&Object.keys(r[e].item).length>0&&jr(r[e].item,t[a].children)}),console.log(t),t}const la=()=>{const n=(r,e)=>{console.log("selected",r,e)},t=x.useMemo(()=>{const r=e=>e.map(a=>{const l=ce(sa,{data:a});return a.children?{title:l,key:a.key,children:r(a.children)}:{title:l,key:a.key}});return r(jr(gt))},[gt]);return ce("div",{children:ce(Eo,{blockNode:!0,motion:!1,showLine:!0,switcherIcon:ce(si,{}),defaultExpandAll:!0,onSelect:n,treeData:t})})},ua=()=>{const[n,t]=x.useState(gt),[r,e]=x.useState(!1),{state:a,setState:l}=x.useContext(li);function h(d){l({...a,bgColor:d})}function o(d){l({...a,locale:d})}const i=a.locale,s=a.bgColor;return At("div",{children:[At("header",{css:Rt`
          height: 36px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0 10px;
          border-bottom: 1px solid #e5e7eb;
        `,children:[ce("div",{children:JSON.stringify(a)}),ce("div",{children:["cn","en","light","dark"].map((d,c)=>(["cn","en"].includes(d)?i:s)===d&&ce(Fn,{onClick:()=>{["cn","en"].includes(d)?o(d===Jt.cn?Jt.en:Jt.cn):h(d===Qt.light?Qt.dark:Qt.light)},css:Rt`
                    padding: 0 10px !important;
                    text-align: center;
                    margin-left: 10px;
                  `,size:"small",children:d.toUpperCase()},c))})]}),At(hn,{css:Rt`
          height: ${"calc(100vh - 80px)"};
        `,vertical:!1,onChange:d=>{console.log(d)},children:[ce(hn.Pane,{preferredSize:360,children:ce(la,{})}),At(hn.Pane,{children:[ce(Fn,{onClick:()=>{e(!0)},children:"Save As"}),ce(ui,{treeData:n,open:r,requestName:"test",onCreateFolder:(d,c)=>{const p=Math.random().toString(36).substr(2,9);function v(g,y){const b={key:p,name:y,item:[]};function u(m){if(m.key===g)return m.item.push(b),!0;if(m.item){for(let w=0;w<m.item.length;w++)if(u(m.item[w]))return!0}return!1}return u({name:"root",key:"root",item:gt}),gt}return new Promise(g=>{setTimeout(()=>{t(v(c,d)),g(p)},500)})},onSave:(d,c)=>{console.log(d,c)},onClose:()=>{e(!1)}})]})]}),ce("footer",{css:Rt`
          height: 32px;
          border-top: 1px solid #e5e7eb;
        `})]})};export{ua as default};
